/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.14.2 - 2015-10-13
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.alert","ui.bootstrap.modal","ui.bootstrap.stackedMap","ui.bootstrap.position","ui.bootstrap.dropdown","ui.bootstrap.buttons"]),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$timeout",function(e,n,t){e.closeable=!!n.close,angular.isDefined(n.dismissOnTimeout)&&t(function(){e.close()},parseInt(n.dismissOnTimeout,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(e,n){return n.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.alert").value("$alertSuppressWarning",!1).controller("AlertController",["$scope","$attrs","$controller","$log","$alertSuppressWarning",function(e,n,t,o,r){r||o.warn("AlertController is now deprecated. Use UibAlertController instead."),angular.extend(this,t("UibAlertController",{$scope:e,$attrs:n}))}]).directive("alert",["$log","$alertSuppressWarning",function(e,n){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,n){return n.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"},link:function(){n||e.warn("alert is now deprecated. Use uib-alert instead.")}}}]),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(n){return{key:n,value:e[n]}})},get:function(n){return e[n]},hasKey:function(n){return!!e[n]},keys:function(){return Object.keys(e)},put:function(n,t){e[n]||(e[n]=[]),e[n].push(t)},remove:function(n,t){var o=e[n];if(o){var r=o.indexOf(t);-1!==r&&o.splice(r,1),o.length||delete e[n]}}}}}}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,n,t){function o(n,o,a){o.addClass("modal-backdrop"),a.modalInClass&&(r?r(o,{addClass:a.modalInClass}).start():e.addClass(o,a.modalInClass),n.$on(t.NOW_CLOSING_EVENT,function(n,t){var i=t();r?r(o,{removeClass:a.modalInClass}).start().then(i):e.removeClass(o,a.modalInClass).then(i)}))}var r=null;return n.has("$animateCss")&&(r=n.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,n){return e.addClass(n.backdropClass),o}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$injector",function(e,n,t,o){var r=null;return o.has("$animateCss")&&(r=o.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,n){return n.templateUrl||"template/modal/window.html"},link:function(o,a,i){a.addClass(i.windowClass||""),a.addClass(i.windowTopClass||""),o.size=i.size,o.close=function(n){var t=e.getTop();t&&t.value.backdrop&&"static"!==t.value.backdrop&&n.target===n.currentTarget&&(n.preventDefault(),n.stopPropagation(),e.dismiss(t.key,"backdrop click"))},a.on("click",o.close),o.$isRendered=!0;var l=n.defer();i.$observe("modalRender",function(e){"true"==e&&l.resolve()}),l.promise.then(function(){var l=null;i.modalInClass&&(l=r?r(a,{addClass:i.modalInClass}).start():t.addClass(a,i.modalInClass),o.$on(e.NOW_CLOSING_EVENT,function(e,n){var o=n();r?r(a,{removeClass:i.modalInClass}).start().then(o):t.removeClass(a,i.modalInClass).then(o)})),n.when(l).then(function(){var e=a[0].querySelectorAll("[autofocus]");e.length?e[0].focus():a[0].focus()});var s=e.getTop();s&&e.modalRendered(s.key)})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,n){n.modalAnimation&&e.addClass(n.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(e,n,t,o,r){r(e.$parent,function(e){n.empty(),n.append(e)})}}}).factory("$uibModalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(e,n,t,o,r,a,i,l,s){function d(){for(var e=-1,n=h.keys(),t=0;t<n.length;t++)h.get(n[t]).value.backdrop&&(e=t);return e}function u(e,n){var o=t.find("body").eq(0),r=h.get(e).value;h.remove(e),f(r.modalDomEl,r.modalScope,function(){var n=r.openedClass||v;C.remove(n,e),o.toggleClass(n,C.hasKey(n)),c(!0)}),p(),n&&n.focus?n.focus():o.focus()}function c(e){var n;h.length()>0&&(n=h.top().value,n.modalDomEl.toggleClass(n.windowTopClass||"",e))}function p(){if(w&&-1==d()){var e=$;f(w,$,function(){e=null}),w=void 0,$=void 0}}function f(n,t,o){function r(){r.done||(r.done=!0,g?g(n,{event:"leave"}).start().then(function(){n.remove()}):e.leave(n),t.$destroy(),o&&o())}var i,l=null,s=function(){return i||(i=a.defer(),l=i.promise),function(){i.resolve()}};return t.$broadcast(k.NOW_CLOSING_EVENT,s),a.when(l).then(r)}function m(e,n,t){return!e.value.modalScope.$broadcast("modal.closing",n,t).defaultPrevented}var g=null;i.has("$animateCss")&&(g=i.get("$animateCss"));var w,$,b,v="modal-open",h=s.createNew(),C=l.createNew(),k={NOW_CLOSING_EVENT:"modal.stack.now-closing"},y=0,O="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return r.$watch(d,function(e){$&&($.index=e)}),t.bind("keydown",function(e){if(e.isDefaultPrevented())return e;var n=h.top();if(n&&n.value.keyboard)switch(e.which){case 27:e.preventDefault(),r.$apply(function(){k.dismiss(n.key,"escape key press")});break;case 9:k.loadFocusElementList(n);var t=!1;e.shiftKey?k.isFocusInFirstItem(e)&&(t=k.focusLastFocusableElement()):k.isFocusInLastItem(e)&&(t=k.focusFirstFocusableElement()),t&&(e.preventDefault(),e.stopPropagation())}}),k.open=function(e,n){var a=t[0].activeElement,i=n.openedClass||v;c(!1),h.add(e,{deferred:n.deferred,renderDeferred:n.renderDeferred,modalScope:n.scope,backdrop:n.backdrop,keyboard:n.keyboard,openedClass:n.openedClass,windowTopClass:n.windowTopClass}),C.put(i,e);var l=t.find("body").eq(0),s=d();if(s>=0&&!w){$=r.$new(!0),$.index=s;var u=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');u.attr("backdrop-class",n.backdropClass),n.animation&&u.attr("modal-animation","true"),w=o(u)($),l.append(w)}var p=angular.element('<div uib-modal-window="modal-window"></div>');p.attr({"template-url":n.windowTemplateUrl,"window-class":n.windowClass,"window-top-class":n.windowTopClass,size:n.size,index:h.length()-1,animate:"animate"}).html(n.content),n.animation&&p.attr("modal-animation","true");var f=o(p)(n.scope);h.top().value.modalDomEl=f,h.top().value.modalOpener=a,l.append(f),l.addClass(i),k.clearFocusListCache()},k.close=function(e,n){var t=h.get(e);return t&&m(t,n,!0)?(t.value.modalScope.$$uibDestructionScheduled=!0,t.value.deferred.resolve(n),u(e,t.value.modalOpener),!0):!t},k.dismiss=function(e,n){var t=h.get(e);return t&&m(t,n,!1)?(t.value.modalScope.$$uibDestructionScheduled=!0,t.value.deferred.reject(n),u(e,t.value.modalOpener),!0):!t},k.dismissAll=function(e){for(var n=this.getTop();n&&this.dismiss(n.key,e);)n=this.getTop()},k.getTop=function(){return h.top()},k.modalRendered=function(e){var n=h.get(e);n&&n.value.renderDeferred.resolve()},k.focusFirstFocusableElement=function(){return b.length>0?(b[0].focus(),!0):!1},k.focusLastFocusableElement=function(){return b.length>0?(b[b.length-1].focus(),!0):!1},k.isFocusInFirstItem=function(e){return b.length>0?(e.target||e.srcElement)==b[0]:!1},k.isFocusInLastItem=function(e){return b.length>0?(e.target||e.srcElement)==b[b.length-1]:!1},k.clearFocusListCache=function(){b=[],y=0},k.loadFocusElementList=function(e){if((void 0===b||!b.length)&&e){var n=e.value.modalDomEl;n&&n.length&&(b=n[0].querySelectorAll(O))}},k}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$uibModalStack",function(n,t,o,r,a,i){function l(e){return e.template?o.when(e.template):r(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function s(e){var t=[];return angular.forEach(e,function(e){t.push(angular.isFunction(e)||angular.isArray(e)?o.when(n.invoke(e)):angular.isString(e)?o.when(n.get(e)):o.when(e))}),t}var d={},u=null;return d.getPromiseChain=function(){return u},d.open=function(n){function r(){return g}var d=o.defer(),c=o.defer(),p=o.defer(),f={result:d.promise,opened:c.promise,rendered:p.promise,close:function(e){return i.close(f,e)},dismiss:function(e){return i.dismiss(f,e)}};if(n=angular.extend({},e.options,n),n.resolve=n.resolve||{},!n.template&&!n.templateUrl)throw new Error("One of template or templateUrl options is required.");var m,g=o.all([l(n)].concat(s(n.resolve)));return m=u=o.all([u]).then(r,r).then(function(e){var o=(n.scope||t).$new();o.$close=f.close,o.$dismiss=f.dismiss,o.$on("$destroy",function(){o.$$uibDestructionScheduled||o.$dismiss("$uibUnscheduledDestruction")});var r,l={},s=1;n.controller&&(l.$scope=o,l.$modalInstance=f,angular.forEach(n.resolve,function(n,t){l[t]=e[s++]}),r=a(n.controller,l),n.controllerAs&&(n.bindToController&&angular.extend(r,o),o[n.controllerAs]=r)),i.open(f,{scope:o,deferred:d,renderDeferred:p,content:e[0],animation:n.animation,backdrop:n.backdrop,keyboard:n.keyboard,backdropClass:n.backdropClass,windowTopClass:n.windowTopClass,windowClass:n.windowClass,windowTemplateUrl:n.windowTemplateUrl,size:n.size,openedClass:n.openedClass}),c.resolve(!0)},function(e){c.reject(e),d.reject(e)}).finally(function(){u===m&&(u=null)}),f},d}]};return e}),angular.module("ui.bootstrap.modal").value("$modalSuppressWarning",!1).directive("modalBackdrop",["$animate","$injector","$modalStack","$log","$modalSuppressWarning",function(e,n,t,o,r){function a(n,a,l){r||o.warn("modal-backdrop is now deprecated. Use uib-modal-backdrop instead."),a.addClass("modal-backdrop"),l.modalInClass&&(i?i(a,{addClass:l.modalInClass}).start():e.addClass(a,l.modalInClass),n.$on(t.NOW_CLOSING_EVENT,function(n,t){var o=t();i?i(a,{removeClass:l.modalInClass}).start().then(o):e.removeClass(a,l.modalInClass).then(o)}))}var i=null;return n.has("$animateCss")&&(i=n.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,n){return e.addClass(n.backdropClass),a}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector","$log","$modalSuppressWarning",function(e,n,t,o,r,a){var i=null;return o.has("$animateCss")&&(i=o.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,n){return n.templateUrl||"template/modal/window.html"},link:function(o,l,s){a||r.warn("modal-window is now deprecated. Use uib-modal-window instead."),l.addClass(s.windowClass||""),l.addClass(s.windowTopClass||""),o.size=s.size,o.close=function(n){var t=e.getTop();t&&t.value.backdrop&&"static"!==t.value.backdrop&&n.target===n.currentTarget&&(n.preventDefault(),n.stopPropagation(),e.dismiss(t.key,"backdrop click"))},l.on("click",o.close),o.$isRendered=!0;var d=n.defer();s.$observe("modalRender",function(e){"true"==e&&d.resolve()}),d.promise.then(function(){var r=null;s.modalInClass&&(r=i?i(l,{addClass:s.modalInClass}).start():t.addClass(l,s.modalInClass),o.$on(e.NOW_CLOSING_EVENT,function(e,n){var o=n();i?i(l,{removeClass:s.modalInClass}).start().then(o):t.removeClass(l,s.modalInClass).then(o)})),n.when(r).then(function(){var e=l[0].querySelectorAll("[autofocus]");e.length?e[0].focus():l[0].focus()});var a=e.getTop();a&&e.modalRendered(a.key)})}}}]).directive("modalAnimationClass",["$log","$modalSuppressWarning",function(e,n){return{compile:function(t,o){n||e.warn("modal-animation-class is now deprecated. Use uib-modal-animation-class instead."),o.modalAnimation&&t.addClass(o.modalAnimationClass)}}}]).directive("modalTransclude",["$log","$modalSuppressWarning",function(e,n){return{link:function(t,o,r,a,i){n||e.warn("modal-transclude is now deprecated. Use uib-modal-transclude instead."),i(t.$parent,function(e){o.empty(),o.append(e)})}}}]).service("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap","$uibModalStack","$log","$modalSuppressWarning",function(e,n,t,o,r,a,i,l,s,d,u,c){c||u.warn("$modalStack is now deprecated. Use $uibModalStack instead."),angular.extend(this,d)}]).provider("$modal",["$uibModalProvider",function(e){angular.extend(this,e),this.$get=["$injector","$log","$modalSuppressWarning",function(n,t,o){return o||t.warn("$modal is now deprecated. Use $uibModal instead."),n.invoke(e.$get)}]}]),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(n,t){e.push({key:n,value:t})},get:function(n){for(var t=0;t<e.length;t++)if(n==e[t].key)return e[t]},keys:function(){for(var n=[],t=0;t<e.length;t++)n.push(e[t].key);return n},top:function(){return e[e.length-1]},remove:function(n){for(var t=-1,o=0;o<e.length;o++)if(n==e[o].key){t=o;break}return e.splice(t,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,n){function t(e,t){return e.currentStyle?e.currentStyle[t]:n.getComputedStyle?n.getComputedStyle(e)[t]:e.style[t]}function o(e){return"static"===(t(e,"position")||"static")}var r=function(n){for(var t=e[0],r=n.offsetParent||t;r&&r!==t&&o(r);)r=r.offsetParent;return r||t};return{position:function(n){var t=this.offset(n),o={top:0,left:0},a=r(n[0]);a!=e[0]&&(o=this.offset(angular.element(a)),o.top+=a.clientTop-a.scrollTop,o.left+=a.clientLeft-a.scrollLeft);var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:t.top-o.top,left:t.left-o.left}},offset:function(t){var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:o.top+(n.pageYOffset||e[0].documentElement.scrollTop),left:o.left+(n.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,n,t,o){var r,a,i,l,s=t.split("-"),d=s[0],u=s[1]||"center";r=o?this.offset(e):this.position(e),a=n.prop("offsetWidth"),i=n.prop("offsetHeight");var c={center:function(){return r.left+r.width/2-a/2},left:function(){return r.left},right:function(){return r.left+r.width}},p={center:function(){return r.top+r.height/2-i/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(d){case"right":l={top:p[u](),left:c[d]()};break;case"left":l={top:p[u](),left:r.left-a};break;case"bottom":l={top:p[d](),left:c[u]()};break;default:l={top:r.top-i,left:c[u]()}}return l}}}]),angular.module("ui.bootstrap.position").value("$positionSuppressWarning",!1).service("$position",["$log","$positionSuppressWarning","$uibPosition",function(e,n,t){n||e.warn("$position is now deprecated. Use $uibPosition instead."),angular.extend(this,t)}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(e,n){var t=null;this.open=function(n){t||(e.bind("click",o),e.bind("keydown",r)),t&&t!==n&&(t.isOpen=!1),t=n},this.close=function(n){t===n&&(t=null,e.unbind("click",o),e.unbind("keydown",r))};var o=function(e){if(t&&(!e||"disabled"!==t.getAutoClose())){var o=t.getToggleElement();if(!(e&&o&&o[0].contains(e.target))){var r=t.getDropdownElement();e&&"outsideClick"===t.getAutoClose()&&r&&r[0].contains(e.target)||(t.isOpen=!1,n.$$phase||t.$apply())}}},r=function(e){27===e.which?(t.focusToggleElement(),o()):t.isKeynavEnabled()&&/(38|40)/.test(e.which)&&t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,n,t,o,r,a,i,l,s,d,u){var c,p,f=this,m=e.$new(),g=r.openClass,w=angular.noop,$=t.onToggle?o(t.onToggle):angular.noop,b=!1,v=!1;n.addClass("dropdown"),this.init=function(){t.isOpen&&(p=o(t.isOpen),w=p.assign,e.$watch(p,function(e){m.isOpen=!!e})),b=angular.isDefined(t.dropdownAppendToBody),v=angular.isDefined(t.uibKeyboardNav),b&&f.dropdownMenu&&(s.find("body").append(f.dropdownMenu),n.on("$destroy",function(){f.dropdownMenu.remove()}))},this.toggle=function(e){return m.isOpen=arguments.length?!!e:!m.isOpen},this.isOpen=function(){return m.isOpen},m.getToggleElement=function(){return f.toggleElement},m.getAutoClose=function(){return t.autoClose||"always"},m.getElement=function(){return n},m.isKeynavEnabled=function(){return v},m.focusDropdownEntry=function(e){var t=f.dropdownMenu?angular.element(f.dropdownMenu).find("a"):angular.element(n).find("ul").eq(0).find("a");switch(e){case 40:f.selectedOption=angular.isNumber(f.selectedOption)?f.selectedOption===t.length-1?f.selectedOption:f.selectedOption+1:0;break;case 38:f.selectedOption=angular.isNumber(f.selectedOption)?0===f.selectedOption?0:f.selectedOption-1:t.length-1}t[f.selectedOption].focus()},m.getDropdownElement=function(){return f.dropdownMenu},m.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},m.$watch("isOpen",function(t,o){if(b&&f.dropdownMenu){var r=l.positionElements(n,f.dropdownMenu,"bottom-left",!0),s={top:r.top+"px",display:t?"block":"none"},p=f.dropdownMenu.hasClass("dropdown-menu-right");p?(s.left="auto",s.right=window.innerWidth-(r.left+n.prop("offsetWidth"))+"px"):(s.left=r.left+"px",s.right="auto"),f.dropdownMenu.css(s)}if(i[t?"addClass":"removeClass"](n,g).then(function(){angular.isDefined(t)&&t!==o&&$(e,{open:!!t})}),t)f.dropdownMenuTemplateUrl&&u(f.dropdownMenuTemplateUrl).then(function(e){c=m.$new(),d(e.trim())(c,function(e){var n=e;f.dropdownMenu.replaceWith(n),f.dropdownMenu=n})}),m.focusToggleElement(),a.open(m);else{if(f.dropdownMenuTemplateUrl){c&&c.$destroy();var v=angular.element('<ul class="dropdown-menu"></ul>');f.dropdownMenu.replaceWith(v),f.dropdownMenu=v}a.close(m),f.selectedOption=null}angular.isFunction(w)&&w(e,t)}),e.$on("$locationChangeSuccess",function(){"disabled"!==m.getAutoClose()&&(m.isOpen=!1)});var h=e.$on("$destroy",function(){m.$destroy()});m.$on("$destroy",h)}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,n,t,o){o.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"AC",require:"?^uibDropdown",link:function(e,n,t,o){if(o&&!angular.isDefined(t.dropdownNested)){n.addClass("dropdown-menu");var r=t.templateUrl;r&&(o.dropdownMenuTemplateUrl=r),o.dropdownMenu||(o.dropdownMenu=n)}}}}).directive("uibKeyboardNav",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,n,t,o){n.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var n=o.dropdownMenu.find("a");switch(e.which){case 40:o.selectedOption=angular.isNumber(o.selectedOption)?o.selectedOption===n.length-1?o.selectedOption:o.selectedOption+1:0;break;case 38:o.selectedOption=angular.isNumber(o.selectedOption)?0===o.selectedOption?0:o.selectedOption-1:n.length-1}n[o.selectedOption].focus()}})}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,n,t,o){if(o){n.addClass("dropdown-toggle"),o.toggleElement=n;var r=function(r){r.preventDefault(),n.hasClass("disabled")||t.disabled||e.$apply(function(){o.toggle()})};n.bind("click",r),n.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(o.isOpen,function(e){n.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){n.unbind("click",r)})}}}}),angular.module("ui.bootstrap.dropdown").value("$dropdownSuppressWarning",!1).service("dropdownService",["$log","$dropdownSuppressWarning","uibDropdownService",function(e,n,t){n||e.warn("dropdownService is now deprecated. Use uibDropdownService instead."),angular.extend(this,t)}]).controller("DropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest","$log","$dropdownSuppressWarning",function(e,n,t,o,r,a,i,l,s,d,u,c,p){p||c.warn("DropdownController is now deprecated. Use UibDropdownController instead.");var f,m,g=this,w=e.$new(),$=r.openClass,b=angular.noop,v=t.onToggle?o(t.onToggle):angular.noop,h=!1,C=!1;n.addClass("dropdown"),this.init=function(){t.isOpen&&(m=o(t.isOpen),b=m.assign,e.$watch(m,function(e){w.isOpen=!!e})),h=angular.isDefined(t.dropdownAppendToBody),C=angular.isDefined(t.uibKeyboardNav),h&&g.dropdownMenu&&(s.find("body").append(g.dropdownMenu),n.on("$destroy",function(){g.dropdownMenu.remove()}))},this.toggle=function(e){return w.isOpen=arguments.length?!!e:!w.isOpen},this.isOpen=function(){return w.isOpen},w.getToggleElement=function(){return g.toggleElement},w.getAutoClose=function(){return t.autoClose||"always"},w.getElement=function(){return n},w.isKeynavEnabled=function(){return C},w.focusDropdownEntry=function(e){var t=g.dropdownMenu?angular.element(g.dropdownMenu).find("a"):angular.element(n).find("ul").eq(0).find("a");switch(e){case 40:g.selectedOption=angular.isNumber(g.selectedOption)?g.selectedOption===t.length-1?g.selectedOption:g.selectedOption+1:0;break;case 38:g.selectedOption=angular.isNumber(g.selectedOption)?0===g.selectedOption?0:g.selectedOption-1:t.length-1}t[g.selectedOption].focus()},w.getDropdownElement=function(){return g.dropdownMenu},w.focusToggleElement=function(){g.toggleElement&&g.toggleElement[0].focus()},w.$watch("isOpen",function(t,o){if(h&&g.dropdownMenu){var r=l.positionElements(n,g.dropdownMenu,"bottom-left",!0),s={top:r.top+"px",display:t?"block":"none"},c=g.dropdownMenu.hasClass("dropdown-menu-right");c?(s.left="auto",s.right=window.innerWidth-(r.left+n.prop("offsetWidth"))+"px"):(s.left=r.left+"px",s.right="auto"),g.dropdownMenu.css(s)}if(i[t?"addClass":"removeClass"](n,$).then(function(){angular.isDefined(t)&&t!==o&&v(e,{open:!!t})}),t)g.dropdownMenuTemplateUrl&&u(g.dropdownMenuTemplateUrl).then(function(e){f=w.$new(),d(e.trim())(f,function(e){var n=e;g.dropdownMenu.replaceWith(n),g.dropdownMenu=n})}),w.focusToggleElement(),a.open(w);else{if(g.dropdownMenuTemplateUrl){f&&f.$destroy();var p=angular.element('<ul class="dropdown-menu"></ul>');g.dropdownMenu.replaceWith(p),g.dropdownMenu=p}a.close(w),g.selectedOption=null}angular.isFunction(b)&&b(e,t)}),e.$on("$locationChangeSuccess",function(){"disabled"!==w.getAutoClose()&&(w.isOpen=!1)});var k=e.$on("$destroy",function(){w.$destroy()});w.$on("$destroy",k)}]).directive("dropdown",["$log","$dropdownSuppressWarning",function(e,n){return{controller:"DropdownController",link:function(t,o,r,a){n||e.warn("dropdown is now deprecated. Use uib-dropdown instead."),a.init()}}}]).directive("dropdownMenu",["$log","$dropdownSuppressWarning",function(e,n){return{restrict:"AC",require:"?^dropdown",link:function(t,o,r,a){if(a){n||e.warn("dropdown-menu is now deprecated. Use uib-dropdown-menu instead."),o.addClass("dropdown-menu");var i=r.templateUrl;i&&(a.dropdownMenuTemplateUrl=i),a.dropdownMenu||(a.dropdownMenu=o)}}}}]).directive("keyboardNav",["$log","$dropdownSuppressWarning",function(e,n){return{restrict:"A",require:"?^dropdown",link:function(t,o,r,a){n||e.warn("keyboard-nav is now deprecated. Use uib-keyboard-nav instead."),o.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var n=a.dropdownMenu.find("a");switch(e.which){case 40:a.selectedOption=angular.isNumber(a.selectedOption)?a.selectedOption===n.length-1?a.selectedOption:a.selectedOption+1:0;break;case 38:a.selectedOption=angular.isNumber(a.selectedOption)?0===a.selectedOption?0:a.selectedOption-1:n.length-1}n[a.selectedOption].focus()}})}}}]).directive("dropdownToggle",["$log","$dropdownSuppressWarning",function(e,n){return{require:"?^dropdown",link:function(t,o,r,a){if(n||e.warn("dropdown-toggle is now deprecated. Use uib-dropdown-toggle instead."),a){o.addClass("dropdown-toggle"),a.toggleElement=o;var i=function(e){e.preventDefault(),o.hasClass("disabled")||r.disabled||t.$apply(function(){a.toggle()})};o.bind("click",i),o.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(a.isOpen,function(e){o.attr("aria-expanded",!!e)}),t.$on("$destroy",function(){o.unbind("click",i)})}}}}]),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",function(){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(e,n,t,o){var r=o[0],a=o[1];n.find("input").css({display:"none"}),a.$render=function(){n.toggleClass(r.activeClass,angular.equals(a.$modelValue,e.$eval(t.uibBtnRadio)))},n.on(r.toggleEvent,function(){if(!t.disabled){var o=n.hasClass(r.activeClass);(!o||angular.isDefined(t.uncheckable))&&e.$apply(function(){a.$setViewValue(o?null:e.$eval(t.uibBtnRadio)),a.$render()})}})}}}).directive("uibBtnCheckbox",["$document",function(e){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(n,t,o,r){function a(){return l(o.btnCheckboxTrue,!0)}function i(){return l(o.btnCheckboxFalse,!1)}function l(e,t){return angular.isDefined(e)?n.$eval(e):t}var s=r[0],d=r[1];t.find("input").css({display:"none"}),d.$render=function(){t.toggleClass(s.activeClass,angular.equals(d.$modelValue,a()))},t.on(s.toggleEvent,function(){o.disabled||n.$apply(function(){d.$setViewValue(t.hasClass(s.activeClass)?i():a()),d.$render()})}),t.on("keypress",function(r){o.disabled||32!==r.which||e[0].activeElement!==t[0]||n.$apply(function(){d.$setViewValue(t.hasClass(s.activeClass)?i():a()),d.$render()})})}}}]),angular.module("ui.bootstrap.buttons").value("$buttonsSuppressWarning",!1).controller("ButtonsController",["$controller","$log","$buttonsSuppressWarning",function(e,n,t){t||n.warn("ButtonsController is now deprecated. Use UibButtonsController instead."),angular.extend(this,e("UibButtonsController"))}]).directive("btnRadio",["$log","$buttonsSuppressWarning",function(e,n){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(t,o,r,a){n||e.warn("btn-radio is now deprecated. Use uib-btn-radio instead.");var i=a[0],l=a[1];o.find("input").css({display:"none"}),l.$render=function(){o.toggleClass(i.activeClass,angular.equals(l.$modelValue,t.$eval(r.btnRadio)))},o.bind(i.toggleEvent,function(){if(!r.disabled){var e=o.hasClass(i.activeClass);(!e||angular.isDefined(r.uncheckable))&&t.$apply(function(){l.$setViewValue(e?null:t.$eval(r.btnRadio)),l.$render()})}})}}}]).directive("btnCheckbox",["$document","$log","$buttonsSuppressWarning",function(e,n,t){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(o,r,a,i){function l(){return d(a.btnCheckboxTrue,!0)}function s(){return d(a.btnCheckboxFalse,!1)}function d(e,n){var t=o.$eval(e);return angular.isDefined(t)?t:n}t||n.warn("btn-checkbox is now deprecated. Use uib-btn-checkbox instead.");var u=i[0],c=i[1];r.find("input").css({display:"none"}),c.$render=function(){r.toggleClass(u.activeClass,angular.equals(c.$modelValue,l()))},r.bind(u.toggleEvent,function(){a.disabled||o.$apply(function(){c.$setViewValue(r.hasClass(u.activeClass)?s():l()),c.$render()})}),r.on("keypress",function(n){a.disabled||32!==n.which||e[0].activeElement!==r[0]||o.$apply(function(){c.$setViewValue(r.hasClass(u.activeClass)?s():l()),c.$render()})})}}}]);