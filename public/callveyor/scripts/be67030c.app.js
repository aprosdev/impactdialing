angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.alert","ui.bootstrap.modal","ui.bootstrap.stackedMap","ui.bootstrap.position","ui.bootstrap.dropdown","ui.bootstrap.buttons"]),angular.module("ui.bootstrap.tpls",["template/alert/alert.html","template/modal/backdrop.html","template/modal/window.html"]),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$timeout",function(a,b,c){a.closeable=!!b.close,angular.isDefined(b.dismissOnTimeout)&&c(function(){a.close()},parseInt(b.dismissOnTimeout,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(a,b){return b.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.alert").value("$alertSuppressWarning",!1).controller("AlertController",["$scope","$attrs","$controller","$log","$alertSuppressWarning",function(a,b,c,d,e){e||d.warn("AlertController is now deprecated. Use UibAlertController instead."),angular.extend(this,c("UibAlertController",{$scope:a,$attrs:b}))}]).directive("alert",["$log","$alertSuppressWarning",function(a,b){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(a,b){return b.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"},link:function(){b||a.warn("alert is now deprecated. Use uib-alert instead.")}}}]),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var a={};return{entries:function(){return Object.keys(a).map(function(b){return{key:b,value:a[b]}})},get:function(b){return a[b]},hasKey:function(b){return!!a[b]},keys:function(){return Object.keys(a)},put:function(b,c){a[b]||(a[b]=[]),a[b].push(c)},remove:function(b,c){var d=a[b];if(d){var e=d.indexOf(c);-1!==e&&d.splice(e,1),d.length||delete a[b]}}}}}}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(a,b,c){function d(b,d,f){d.addClass("modal-backdrop"),f.modalInClass&&(e?e(d,{addClass:f.modalInClass}).start():a.addClass(d,f.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(b,c){var g=c();e?e(d,{removeClass:f.modalInClass}).start().then(g):a.removeClass(d,f.modalInClass).then(g)}))}var e=null;return b.has("$animateCss")&&(e=b.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(a,b){return a.addClass(b.backdropClass),d}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$injector",function(a,b,c,d){var e=null;return d.has("$animateCss")&&(e=d.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(d,f,g){f.addClass(g.windowClass||""),f.addClass(g.windowTopClass||""),d.size=g.size,d.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},f.on("click",d.close),d.$isRendered=!0;var h=b.defer();g.$observe("modalRender",function(a){"true"==a&&h.resolve()}),h.promise.then(function(){var h=null;g.modalInClass&&(h=e?e(f,{addClass:g.modalInClass}).start():c.addClass(f,g.modalInClass),d.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();e?e(f,{removeClass:g.modalInClass}).start().then(d):c.removeClass(f,g.modalInClass).then(d)})),b.when(h).then(function(){var a=f[0].querySelectorAll("[autofocus]");a.length?a[0].focus():f[0].focus()});var i=a.getTop();i&&a.modalRendered(i.key)})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$uibModalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(a,b,c,d,e,f,g,h,i){function j(){for(var a=-1,b=u.keys(),c=0;c<b.length;c++)u.get(b[c]).value.backdrop&&(a=c);return a}function k(a,b){var d=c.find("body").eq(0),e=u.get(a).value;u.remove(a),n(e.modalDomEl,e.modalScope,function(){var b=e.openedClass||t;v.remove(b,a),d.toggleClass(b,v.hasKey(b)),l(!0)}),m(),b&&b.focus?b.focus():d.focus()}function l(a){var b;u.length()>0&&(b=u.top().value,b.modalDomEl.toggleClass(b.windowTopClass||"",a))}function m(){if(q&&-1==j()){var a=r;n(q,r,function(){a=null}),q=void 0,r=void 0}}function n(b,c,d){function e(){e.done||(e.done=!0,p?p(b,{event:"leave"}).start().then(function(){b.remove()}):a.leave(b),c.$destroy(),d&&d())}var g,h=null,i=function(){return g||(g=f.defer(),h=g.promise),function(){g.resolve()}};return c.$broadcast(w.NOW_CLOSING_EVENT,i),f.when(h).then(e)}function o(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}var p=null;g.has("$animateCss")&&(p=g.get("$animateCss"));var q,r,s,t="modal-open",u=i.createNew(),v=h.createNew(),w={NOW_CLOSING_EVENT:"modal.stack.now-closing"},x=0,y="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return e.$watch(j,function(a){r&&(r.index=a)}),c.bind("keydown",function(a){if(a.isDefaultPrevented())return a;var b=u.top();if(b&&b.value.keyboard)switch(a.which){case 27:a.preventDefault(),e.$apply(function(){w.dismiss(b.key,"escape key press")});break;case 9:w.loadFocusElementList(b);var c=!1;a.shiftKey?w.isFocusInFirstItem(a)&&(c=w.focusLastFocusableElement()):w.isFocusInLastItem(a)&&(c=w.focusFirstFocusableElement()),c&&(a.preventDefault(),a.stopPropagation())}}),w.open=function(a,b){var f=c[0].activeElement,g=b.openedClass||t;l(!1),u.add(a,{deferred:b.deferred,renderDeferred:b.renderDeferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard,openedClass:b.openedClass,windowTopClass:b.windowTopClass}),v.put(g,a);var h=c.find("body").eq(0),i=j();if(i>=0&&!q){r=e.$new(!0),r.index=i;var k=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');k.attr("backdrop-class",b.backdropClass),b.animation&&k.attr("modal-animation","true"),q=d(k)(r),h.append(q)}var m=angular.element('<div uib-modal-window="modal-window"></div>');m.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,"window-top-class":b.windowTopClass,size:b.size,index:u.length()-1,animate:"animate"}).html(b.content),b.animation&&m.attr("modal-animation","true");var n=d(m)(b.scope);u.top().value.modalDomEl=n,u.top().value.modalOpener=f,h.append(n),h.addClass(g),w.clearFocusListCache()},w.close=function(a,b){var c=u.get(a);return c&&o(c,b,!0)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.resolve(b),k(a,c.value.modalOpener),!0):!c},w.dismiss=function(a,b){var c=u.get(a);return c&&o(c,b,!1)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.reject(b),k(a,c.value.modalOpener),!0):!c},w.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},w.getTop=function(){return u.top()},w.modalRendered=function(a){var b=u.get(a);b&&b.value.renderDeferred.resolve()},w.focusFirstFocusableElement=function(){return s.length>0?(s[0].focus(),!0):!1},w.focusLastFocusableElement=function(){return s.length>0?(s[s.length-1].focus(),!0):!1},w.isFocusInFirstItem=function(a){return s.length>0?(a.target||a.srcElement)==s[0]:!1},w.isFocusInLastItem=function(a){return s.length>0?(a.target||a.srcElement)==s[s.length-1]:!1},w.clearFocusListCache=function(){s=[],x=0},w.loadFocusElementList=function(a){if((void 0===s||!s.length)&&a){var b=a.value.modalDomEl;b&&b.length&&(s=b[0].querySelectorAll(y))}},w}]).provider("$uibModal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$uibModalStack",function(b,c,d,e,f,g){function h(a){return a.template?d.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}function i(a){var c=[];return angular.forEach(a,function(a){c.push(angular.isFunction(a)||angular.isArray(a)?d.when(b.invoke(a)):angular.isString(a)?d.when(b.get(a)):d.when(a))}),c}var j={},k=null;return j.getPromiseChain=function(){return k},j.open=function(b){function e(){return p}var j=d.defer(),l=d.defer(),m=d.defer(),n={result:j.promise,opened:l.promise,rendered:m.promise,close:function(a){return g.close(n,a)},dismiss:function(a){return g.dismiss(n,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var o,p=d.all([h(b)].concat(i(b.resolve)));return o=k=d.all([k]).then(e,e).then(function(a){var d=(b.scope||c).$new();d.$close=n.close,d.$dismiss=n.dismiss,d.$on("$destroy",function(){d.$$uibDestructionScheduled||d.$dismiss("$uibUnscheduledDestruction")});var e,h={},i=1;b.controller&&(h.$scope=d,h.$modalInstance=n,angular.forEach(b.resolve,function(b,c){h[c]=a[i++]}),e=f(b.controller,h),b.controllerAs&&(b.bindToController&&angular.extend(e,d),d[b.controllerAs]=e)),g.open(n,{scope:d,deferred:j,renderDeferred:m,content:a[0],animation:b.animation,backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowTopClass:b.windowTopClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size,openedClass:b.openedClass}),l.resolve(!0)},function(a){l.reject(a),j.reject(a)})["finally"](function(){k===o&&(k=null)}),n},j}]};return a}),angular.module("ui.bootstrap.modal").value("$modalSuppressWarning",!1).directive("modalBackdrop",["$animate","$injector","$modalStack","$log","$modalSuppressWarning",function(a,b,c,d,e){function f(b,f,h){e||d.warn("modal-backdrop is now deprecated. Use uib-modal-backdrop instead."),f.addClass("modal-backdrop"),h.modalInClass&&(g?g(f,{addClass:h.modalInClass}).start():a.addClass(f,h.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(b,c){var d=c();g?g(f,{removeClass:h.modalInClass}).start().then(d):a.removeClass(f,h.modalInClass).then(d)}))}var g=null;return b.has("$animateCss")&&(g=b.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(a,b){return a.addClass(b.backdropClass),f}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector","$log","$modalSuppressWarning",function(a,b,c,d,e,f){var g=null;return d.has("$animateCss")&&(g=d.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(d,h,i){f||e.warn("modal-window is now deprecated. Use uib-modal-window instead."),h.addClass(i.windowClass||""),h.addClass(i.windowTopClass||""),d.size=i.size,d.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},h.on("click",d.close),d.$isRendered=!0;var j=b.defer();i.$observe("modalRender",function(a){"true"==a&&j.resolve()}),j.promise.then(function(){var e=null;i.modalInClass&&(e=g?g(h,{addClass:i.modalInClass}).start():c.addClass(h,i.modalInClass),d.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();g?g(h,{removeClass:i.modalInClass}).start().then(d):c.removeClass(h,i.modalInClass).then(d)})),b.when(e).then(function(){var a=h[0].querySelectorAll("[autofocus]");a.length?a[0].focus():h[0].focus()});var f=a.getTop();f&&a.modalRendered(f.key)})}}}]).directive("modalAnimationClass",["$log","$modalSuppressWarning",function(a,b){return{compile:function(c,d){b||a.warn("modal-animation-class is now deprecated. Use uib-modal-animation-class instead."),d.modalAnimation&&c.addClass(d.modalAnimationClass)}}}]).directive("modalTransclude",["$log","$modalSuppressWarning",function(a,b){return{link:function(c,d,e,f,g){b||a.warn("modal-transclude is now deprecated. Use uib-modal-transclude instead."),g(c.$parent,function(a){d.empty(),d.append(a)})}}}]).service("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap","$uibModalStack","$log","$modalSuppressWarning",function(a,b,c,d,e,f,g,h,i,j,k,l){l||k.warn("$modalStack is now deprecated. Use $uibModalStack instead."),angular.extend(this,j)}]).provider("$modal",["$uibModalProvider",function(a){angular.extend(this,a),this.$get=["$injector","$log","$modalSuppressWarning",function(b,c,d){return d||c.warn("$modal is now deprecated. Use $uibModal instead."),b.invoke(a.$get)}]}]),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.position").value("$positionSuppressWarning",!1).service("$position",["$log","$positionSuppressWarning","$uibPosition",function(a,b,c){b||a.warn("$position is now deprecated. Use $uibPosition instead."),angular.extend(this,c)}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(a,b){var c=null;this.open=function(b){c||(a.bind("click",d),a.bind("keydown",e)),c&&c!==b&&(c.isOpen=!1),c=b},this.close=function(b){c===b&&(c=null,a.unbind("click",d),a.unbind("keydown",e))};var d=function(a){if(c&&(!a||"disabled"!==c.getAutoClose())){var d=c.getToggleElement();if(!(a&&d&&d[0].contains(a.target))){var e=c.getDropdownElement();a&&"outsideClick"===c.getAutoClose()&&e&&e[0].contains(a.target)||(c.isOpen=!1,b.$$phase||c.$apply())}}},e=function(a){27===a.which?(c.focusToggleElement(),d()):c.isKeynavEnabled()&&/(38|40)/.test(a.which)&&c.isOpen&&(a.preventDefault(),a.stopPropagation(),c.focusDropdownEntry(a.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n=this,o=a.$new(),p=e.openClass,q=angular.noop,r=c.onToggle?d(c.onToggle):angular.noop,s=!1,t=!1;b.addClass("dropdown"),this.init=function(){c.isOpen&&(m=d(c.isOpen),q=m.assign,a.$watch(m,function(a){o.isOpen=!!a})),s=angular.isDefined(c.dropdownAppendToBody),t=angular.isDefined(c.uibKeyboardNav),s&&n.dropdownMenu&&(i.find("body").append(n.dropdownMenu),b.on("$destroy",function(){n.dropdownMenu.remove()}))},this.toggle=function(a){return o.isOpen=arguments.length?!!a:!o.isOpen},this.isOpen=function(){return o.isOpen},o.getToggleElement=function(){return n.toggleElement},o.getAutoClose=function(){return c.autoClose||"always"},o.getElement=function(){return b},o.isKeynavEnabled=function(){return t},o.focusDropdownEntry=function(a){var c=n.dropdownMenu?angular.element(n.dropdownMenu).find("a"):angular.element(b).find("ul").eq(0).find("a");switch(a){case 40:n.selectedOption=angular.isNumber(n.selectedOption)?n.selectedOption===c.length-1?n.selectedOption:n.selectedOption+1:0;break;case 38:n.selectedOption=angular.isNumber(n.selectedOption)?0===n.selectedOption?0:n.selectedOption-1:c.length-1}c[n.selectedOption].focus()},o.getDropdownElement=function(){return n.dropdownMenu},o.focusToggleElement=function(){n.toggleElement&&n.toggleElement[0].focus()},o.$watch("isOpen",function(c,d){if(s&&n.dropdownMenu){var e=h.positionElements(b,n.dropdownMenu,"bottom-left",!0),i={top:e.top+"px",display:c?"block":"none"},m=n.dropdownMenu.hasClass("dropdown-menu-right");m?(i.left="auto",i.right=window.innerWidth-(e.left+b.prop("offsetWidth"))+"px"):(i.left=e.left+"px",i.right="auto"),n.dropdownMenu.css(i)}if(g[c?"addClass":"removeClass"](b,p).then(function(){angular.isDefined(c)&&c!==d&&r(a,{open:!!c})}),c)n.dropdownMenuTemplateUrl&&k(n.dropdownMenuTemplateUrl).then(function(a){l=o.$new(),j(a.trim())(l,function(a){var b=a;n.dropdownMenu.replaceWith(b),n.dropdownMenu=b})}),o.focusToggleElement(),f.open(o);else{if(n.dropdownMenuTemplateUrl){l&&l.$destroy();var t=angular.element('<ul class="dropdown-menu"></ul>');n.dropdownMenu.replaceWith(t),n.dropdownMenu=t}f.close(o),n.selectedOption=null}angular.isFunction(q)&&q(a,c)}),a.$on("$locationChangeSuccess",function(){"disabled"!==o.getAutoClose()&&(o.isOpen=!1)});var u=a.$on("$destroy",function(){o.$destroy()});o.$on("$destroy",u)}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(a,b,c,d){d.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"AC",require:"?^uibDropdown",link:function(a,b,c,d){if(d&&!angular.isDefined(c.dropdownNested)){b.addClass("dropdown-menu");var e=c.templateUrl;e&&(d.dropdownMenuTemplateUrl=e),d.dropdownMenu||(d.dropdownMenu=b)}}}}).directive("uibKeyboardNav",function(){return{restrict:"A",require:"?^uibDropdown",link:function(a,b,c,d){b.bind("keydown",function(a){if(-1!==[38,40].indexOf(a.which)){a.preventDefault(),a.stopPropagation();var b=d.dropdownMenu.find("a");switch(a.which){case 40:d.selectedOption=angular.isNumber(d.selectedOption)?d.selectedOption===b.length-1?d.selectedOption:d.selectedOption+1:0;break;case 38:d.selectedOption=angular.isNumber(d.selectedOption)?0===d.selectedOption?0:d.selectedOption-1:b.length-1}b[d.selectedOption].focus()}})}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(a,b,c,d){if(d){b.addClass("dropdown-toggle"),d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.dropdown").value("$dropdownSuppressWarning",!1).service("dropdownService",["$log","$dropdownSuppressWarning","uibDropdownService",function(a,b,c){b||a.warn("dropdownService is now deprecated. Use uibDropdownService instead."),angular.extend(this,c)}]).controller("DropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest","$log","$dropdownSuppressWarning",function(a,b,c,d,e,f,g,h,i,j,k,l,m){m||l.warn("DropdownController is now deprecated. Use UibDropdownController instead.");var n,o,p=this,q=a.$new(),r=e.openClass,s=angular.noop,t=c.onToggle?d(c.onToggle):angular.noop,u=!1,v=!1;b.addClass("dropdown"),this.init=function(){c.isOpen&&(o=d(c.isOpen),s=o.assign,a.$watch(o,function(a){q.isOpen=!!a})),u=angular.isDefined(c.dropdownAppendToBody),v=angular.isDefined(c.uibKeyboardNav),u&&p.dropdownMenu&&(i.find("body").append(p.dropdownMenu),b.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(a){return q.isOpen=arguments.length?!!a:!q.isOpen},this.isOpen=function(){return q.isOpen},q.getToggleElement=function(){return p.toggleElement},q.getAutoClose=function(){return c.autoClose||"always"},q.getElement=function(){return b},q.isKeynavEnabled=function(){return v},q.focusDropdownEntry=function(a){var c=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):angular.element(b).find("ul").eq(0).find("a");switch(a){case 40:p.selectedOption=angular.isNumber(p.selectedOption)?p.selectedOption===c.length-1?p.selectedOption:p.selectedOption+1:0;break;case 38:p.selectedOption=angular.isNumber(p.selectedOption)?0===p.selectedOption?0:p.selectedOption-1:c.length-1}c[p.selectedOption].focus()},q.getDropdownElement=function(){return p.dropdownMenu},q.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},q.$watch("isOpen",function(c,d){if(u&&p.dropdownMenu){var e=h.positionElements(b,p.dropdownMenu,"bottom-left",!0),i={top:e.top+"px",display:c?"block":"none"},l=p.dropdownMenu.hasClass("dropdown-menu-right");l?(i.left="auto",i.right=window.innerWidth-(e.left+b.prop("offsetWidth"))+"px"):(i.left=e.left+"px",i.right="auto"),p.dropdownMenu.css(i)}if(g[c?"addClass":"removeClass"](b,r).then(function(){angular.isDefined(c)&&c!==d&&t(a,{open:!!c})}),c)p.dropdownMenuTemplateUrl&&k(p.dropdownMenuTemplateUrl).then(function(a){n=q.$new(),j(a.trim())(n,function(a){var b=a;p.dropdownMenu.replaceWith(b),p.dropdownMenu=b})}),q.focusToggleElement(),f.open(q);else{if(p.dropdownMenuTemplateUrl){n&&n.$destroy();var m=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(m),p.dropdownMenu=m}f.close(q),p.selectedOption=null}angular.isFunction(s)&&s(a,c)}),a.$on("$locationChangeSuccess",function(){"disabled"!==q.getAutoClose()&&(q.isOpen=!1)});var w=a.$on("$destroy",function(){q.$destroy()});q.$on("$destroy",w)}]).directive("dropdown",["$log","$dropdownSuppressWarning",function(a,b){return{controller:"DropdownController",link:function(c,d,e,f){b||a.warn("dropdown is now deprecated. Use uib-dropdown instead."),f.init()}}}]).directive("dropdownMenu",["$log","$dropdownSuppressWarning",function(a,b){return{restrict:"AC",require:"?^dropdown",link:function(c,d,e,f){if(f){b||a.warn("dropdown-menu is now deprecated. Use uib-dropdown-menu instead."),d.addClass("dropdown-menu");var g=e.templateUrl;g&&(f.dropdownMenuTemplateUrl=g),f.dropdownMenu||(f.dropdownMenu=d)}}}}]).directive("keyboardNav",["$log","$dropdownSuppressWarning",function(a,b){return{restrict:"A",require:"?^dropdown",link:function(c,d,e,f){b||a.warn("keyboard-nav is now deprecated. Use uib-keyboard-nav instead."),d.bind("keydown",function(a){if(-1!==[38,40].indexOf(a.which)){a.preventDefault(),a.stopPropagation();var b=f.dropdownMenu.find("a");switch(a.which){case 40:f.selectedOption=angular.isNumber(f.selectedOption)?f.selectedOption===b.length-1?f.selectedOption:f.selectedOption+1:0;break;case 38:f.selectedOption=angular.isNumber(f.selectedOption)?0===f.selectedOption?0:f.selectedOption-1:b.length-1}b[f.selectedOption].focus()}})}}}]).directive("dropdownToggle",["$log","$dropdownSuppressWarning",function(a,b){return{require:"?^dropdown",link:function(c,d,e,f){if(b||a.warn("dropdown-toggle is now deprecated. Use uib-dropdown-toggle instead."),f){d.addClass("dropdown-toggle"),f.toggleElement=d;var g=function(a){a.preventDefault(),d.hasClass("disabled")||e.disabled||c.$apply(function(){f.toggle()})};d.bind("click",g),d.attr({"aria-haspopup":!0,"aria-expanded":!1}),c.$watch(f.isOpen,function(a){d.attr("aria-expanded",!!a)}),c.$on("$destroy",function(){d.unbind("click",g)})}}}}]),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("uibBtnRadio",function(){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(a,b,c,d){var e=d[0],f=d[1];b.find("input").css({display:"none"}),f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.uibBtnRadio)))},b.on(e.toggleEvent,function(){if(!c.disabled){var d=b.hasClass(e.activeClass);(!d||angular.isDefined(c.uncheckable))&&a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.uibBtnRadio)),f.$render()})}})}}}).directive("uibBtnCheckbox",["$document",function(a){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(b,c,d,e){function f(){return h(d.btnCheckboxTrue,!0)}function g(){return h(d.btnCheckboxFalse,!1)}function h(a,c){return angular.isDefined(a)?b.$eval(a):c}var i=e[0],j=e[1];c.find("input").css({display:"none"}),j.$render=function(){c.toggleClass(i.activeClass,angular.equals(j.$modelValue,f()))},c.on(i.toggleEvent,function(){d.disabled||b.$apply(function(){j.$setViewValue(c.hasClass(i.activeClass)?g():f()),j.$render()})}),c.on("keypress",function(e){d.disabled||32!==e.which||a[0].activeElement!==c[0]||b.$apply(function(){j.$setViewValue(c.hasClass(i.activeClass)?g():f()),j.$render()})})}}}]),angular.module("ui.bootstrap.buttons").value("$buttonsSuppressWarning",!1).controller("ButtonsController",["$controller","$log","$buttonsSuppressWarning",function(a,b,c){c||b.warn("ButtonsController is now deprecated. Use UibButtonsController instead."),angular.extend(this,a("UibButtonsController"))}]).directive("btnRadio",["$log","$buttonsSuppressWarning",function(a,b){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(c,d,e,f){b||a.warn("btn-radio is now deprecated. Use uib-btn-radio instead.");var g=f[0],h=f[1];d.find("input").css({display:"none"}),h.$render=function(){d.toggleClass(g.activeClass,angular.equals(h.$modelValue,c.$eval(e.btnRadio)))},d.bind(g.toggleEvent,function(){if(!e.disabled){var a=d.hasClass(g.activeClass);(!a||angular.isDefined(e.uncheckable))&&c.$apply(function(){h.$setViewValue(a?null:c.$eval(e.btnRadio)),h.$render()})}})}}}]).directive("btnCheckbox",["$document","$log","$buttonsSuppressWarning",function(a,b,c){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(d,e,f,g){function h(){return j(f.btnCheckboxTrue,!0)}function i(){return j(f.btnCheckboxFalse,!1)}function j(a,b){var c=d.$eval(a);return angular.isDefined(c)?c:b}c||b.warn("btn-checkbox is now deprecated. Use uib-btn-checkbox instead.");var k=g[0],l=g[1];e.find("input").css({display:"none"}),l.$render=function(){e.toggleClass(k.activeClass,angular.equals(l.$modelValue,h()))},e.bind(k.toggleEvent,function(){f.disabled||d.$apply(function(){l.$setViewValue(e.hasClass(k.activeClass)?i():h()),l.$render()})}),e.on("keypress",function(b){f.disabled||32!==b.which||a[0].activeElement!==e[0]||d.$apply(function(){l.$setViewValue(e.hasClass(k.activeClass)?i():h()),l.$render()})})}}}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=a.length,c=J.type(a);return"function"===c||J.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(J.isFunction(b))return J.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return J.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(U.test(b))return J.filter(b,a,c);b=J.filter(b,a)}return J.grep(a,function(a){return C.call(b,a)>=0!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b=_[a]={};return J.each(a.match($)||[],function(a,c){b[c]=!0}),b}function g(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=J.expando+Math.random()}function h(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(ea,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:da.test(c)?J.parseJSON(c):c}catch(e){}ca.set(a,b,c)}else c=void 0;return c}function i(){return!0}function j(){return!1}function k(){try{return H.activeElement}catch(a){}}function l(a,b){return J.nodeName(a,"table")&&J.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function m(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function n(a){var b=ra.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function o(a,b){for(var c=0,d=a.length;d>c;c++)ba.set(a[c],"globalEval",!b||ba.get(b[c],"globalEval"))}function p(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(ba.hasData(a)&&(f=ba.access(a),g=ba.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)J.event.add(b,e,j[e][c])}ca.hasData(a)&&(h=ca.access(a),i=J.extend({},h),ca.set(b,i))}}function q(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&J.nodeName(a,b)?J.merge([a],c):c}function r(a,b){var c=b.nodeName.toLowerCase();"input"===c&&fa.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function s(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match($)||[];if(J.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function t(a,b,c,d){function e(h){var i;return f[h]=!0,J.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Ma;return e(b.dataTypes[0])||!f["*"]&&e("*")}function u(a,b){var c,d,e=J.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&J.extend(!0,a,d),a}function v(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){
i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function w(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function x(a,b,c,d){var e;if(J.isArray(b))J.each(b,function(b,e){c||Qa.test(a)?d(a,e):x(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==J.type(b))d(a,b);else for(e in b)x(a+"["+e+"]",b[e],c,d)}var y=[],z=y.slice,A=y.concat,B=y.push,C=y.indexOf,D={},E=D.toString,F=D.hasOwnProperty,G={},H=a.document,I="2.1.2-pre -ajax/jsonp,-css,-css/addGetHookIf,-css/curCSS,-css/defaultDisplay,-css/hiddenVisibleSelectors,-css/support,-css/swap,-css/var/cssExpand,-css/var/getStyles,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-effects,-effects/Tween,-effects/animatedSelector,-dimensions,-offset,-deprecated,-event/alias,-wrap,-core/ready,-exports/amd",J=function(a,b){return new J.fn.init(a,b)},K=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,L=/^-ms-/,M=/-([\da-z])/gi,N=function(a,b){return b.toUpperCase()};J.fn=J.prototype={jquery:I,constructor:J,selector:"",length:0,toArray:function(){return z.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:z.call(this)},pushStack:function(a){var b=J.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return J.each(this,a,b)},map:function(a){return this.pushStack(J.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:B,sort:y.sort,splice:y.splice},J.extend=J.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||J.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(J.isPlainObject(d)||(e=J.isArray(d)))?(e?(e=!1,f=c&&J.isArray(c)?c:[]):f=c&&J.isPlainObject(c)?c:{},g[b]=J.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},J.extend({expando:"jQuery"+(I+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===J.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!J.isArray(a)&&a-parseFloat(a)>=0},isPlainObject:function(a){return"object"!==J.type(a)||a.nodeType||J.isWindow(a)?!1:a.constructor&&!F.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?D[E.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=J.trim(a),a&&(1===a.indexOf("use strict")?(b=H.createElement("script"),b.text=a,H.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(L,"ms-").replace(M,N)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(K,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?J.merge(d,"string"==typeof a?[a]:a):B.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:C.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return A.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),J.isFunction(a)?(d=z.call(arguments,2),e=function(){return a.apply(b||this,d.concat(z.call(arguments)))},e.guid=a.guid=a.guid||J.guid++,e):void 0},now:Date.now,support:G}),J.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){D["[object "+b+"]"]=b.toLowerCase()});var O,P=a.document.documentElement,Q=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector,R=function(a,b){if(a===b)return O=!0,0;var c=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b);return c?1&c?a===H||J.contains(H,a)?-1:b===H||J.contains(H,b)?1:0:4&c?-1:1:a.compareDocumentPosition?-1:1};J.extend({find:function(a,b,c,d){var e,f,g=0;if(c=c||[],b=b||H,!a||"string"!=typeof a)return c;if(1!==(f=b.nodeType)&&9!==f)return[];if(d)for(;e=d[g++];)J.find.matchesSelector(e,a)&&c.push(e);else J.merge(c,b.querySelectorAll(a));return c},unique:function(a){var b,c=[],d=0,e=0;if(O=!1,a.sort(R),O){for(;b=a[d++];)b===a[d]&&(e=c.push(d));for(;e--;)a.splice(c[e],1)}return a},text:function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e)return a.textContent;if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=J.text(b);return c},contains:function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!c.contains(d))},isXMLDoc:function(a){return"HTML"!==(a.ownerDocument||a).documentElement.nodeName},expr:{attrHandle:{},match:{bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]/}}}),J.extend(J.find,{matches:function(a,b){return J.find(a,null,null,b)},matchesSelector:function(a,b){return Q.call(a,b)},attr:function(a,b){return a.getAttribute(b)}});var S=J.expr.match.needsContext,T=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,U=/^.[^:#\[\.,]*$/;J.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?J.find.matchesSelector(d,a)?[d]:[]:J.find.matches(a,J.grep(b,function(a){return 1===a.nodeType}))},J.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(J(a).filter(function(){for(b=0;c>b;b++)if(J.contains(e[b],this))return!0}));for(b=0;c>b;b++)J.find(a,e[b],d);return d=this.pushStack(c>1?J.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&S.test(a)?J(a):a||[],!1).length}});var V,W=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,X=J.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:W.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||V).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof J?b[0]:b,J.merge(this,J.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:H,!0)),T.test(c[1])&&J.isPlainObject(b))for(c in b)J.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=H.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=H,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):J.isFunction(a)?"undefined"!=typeof V.ready?V.ready(a):a(J):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),J.makeArray(a,this))};X.prototype=J.fn,V=J(H);var Y=/^(?:parents|prev(?:Until|All))/,Z={children:!0,contents:!0,next:!0,prev:!0};J.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&J(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),J.fn.extend({has:function(a){var b=J(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(J.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=S.test(a)||"string"!=typeof a?J(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&J.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?J.unique(f):f)},index:function(a){return a?"string"==typeof a?C.call(J(a),this[0]):C.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(J.unique(J.merge(this.get(),J(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),J.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return J.dir(a,"parentNode")},parentsUntil:function(a,b,c){return J.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return J.dir(a,"nextSibling")},prevAll:function(a){return J.dir(a,"previousSibling")},nextUntil:function(a,b,c){return J.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return J.dir(a,"previousSibling",c)},siblings:function(a){return J.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return J.sibling(a.firstChild)},contents:function(a){return a.contentDocument||J.merge([],a.childNodes)}},function(a,b){J.fn[a]=function(c,d){var e=J.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=J.filter(d,e)),this.length>1&&(Z[a]||J.unique(e),Y.test(a)&&e.reverse()),this.pushStack(e)}});var $=/\S+/g,_={};J.Callbacks=function(a){a="string"==typeof a?_[a]||f(a):J.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(b=a.memory&&f,c=!0,h=e||0,e=0,g=i.length,d=!0;i&&g>h;h++)if(i[h].apply(f[0],f[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,i&&(j?j.length&&k(j.shift()):b?i=[]:l.disable())},l={add:function(){if(i){var c=i.length;!function f(b){J.each(b,function(b,c){var d=J.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),d?g=i.length:b&&(e=c,k(b))}return this},remove:function(){return i&&J.each(arguments,function(a,b){for(var c;(c=J.inArray(b,i,c))>-1;)i.splice(c,1),d&&(g>=c&&g--,h>=c&&h--)}),this},has:function(a){return a?J.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],g=0,this},disable:function(){return i=j=b=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,b||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return!i||c&&!j||(b=b||[],b=[a,b.slice?b.slice():b],d?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!c}};return l},J.extend({Deferred:function(a){var b=[["resolve","done",J.Callbacks("once memory"),"resolved"],["reject","fail",J.Callbacks("once memory"),"rejected"],["notify","progress",J.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return J.Deferred(function(c){J.each(b,function(b,f){var g=J.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&J.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?J.extend(a,d):d}},e={};return d.pipe=d.then,J.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=z.call(arguments),g=f.length,h=1!==g||a&&J.isFunction(a.promise)?g:0,i=1===h?a:J.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?z.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&J.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var aa=J.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===J.type(c)){e=!0;for(h in c)J.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,J.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(J(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};J.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},g.uid=1,g.accepts=J.acceptData,g.prototype={key:function(a){if(!g.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=g.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,J.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(J.isEmptyObject(f))J.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,J.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{J.isArray(b)?d=b.concat(b.map(J.camelCase)):(e=J.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match($)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!J.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var ba=new g,ca=new g,da=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ea=/([A-Z])/g;J.extend({hasData:function(a){return ca.hasData(a)||ba.hasData(a)},data:function(a,b,c){return ca.access(a,b,c)},removeData:function(a,b){ca.remove(a,b)},_data:function(a,b,c){return ba.access(a,b,c)},_removeData:function(a,b){ba.remove(a,b)}}),J.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=ca.get(f),1===f.nodeType&&!ba.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=J.camelCase(d.slice(5)),h(f,d,e[d])));ba.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){ca.set(this,a)}):aa(this,function(b){var c,d=J.camelCase(a);if(f&&void 0===b){if(c=ca.get(f,a),void 0!==c)return c;if(c=ca.get(f,d),void 0!==c)return c;if(c=h(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=ca.get(this,d);ca.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&ca.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){ca.remove(this,a)})}}),J.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=ba.get(a,b),c&&(!d||J.isArray(c)?d=ba.access(a,b,J.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=J.queue(a,b),d=c.length,e=c.shift(),f=J._queueHooks(a,b),g=function(){J.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return ba.get(a,c)||ba.access(a,c,{empty:J.Callbacks("once memory").add(function(){ba.remove(a,[b+"queue",c])})})}}),J.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?J.queue(this[0],a):void 0===b?this:this.each(function(){var c=J.queue(this,a,b);J._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&J.dequeue(this,a)})},dequeue:function(a){return this.each(function(){J.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=J.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=ba.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var fa=(/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,/^(?:checkbox|radio)$/i);!function(){var a=H.createDocumentFragment(),b=a.appendChild(H.createElement("div")),c=H.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),G.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",G.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var ga="undefined";G.focusinBubbles="onfocusin"in a;var ha=/^key/,ia=/^(?:mouse|pointer|contextmenu)|click/,ja=/^(?:focusinfocus|focusoutblur)$/,ka=/^([^.]*)(?:\.(.+)|)$/;J.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ba.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=J.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return typeof J!==ga&&J.event.triggered!==b.type?J.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match($)||[""],j=b.length;j--;)h=ka.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=J.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=J.event.special[n]||{},k=J.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&J.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),J.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ba.hasData(a)&&ba.get(a);if(q&&(i=q.events)){for(b=(b||"").match($)||[""],j=b.length;j--;)if(h=ka.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=J.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||J.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)J.event.remove(a,n+b[j],c,d,!0);J.isEmptyObject(i)&&(delete q.handle,ba.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||H],n=F.call(b,"type")?b.type:b,o=F.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||H,3!==d.nodeType&&8!==d.nodeType&&!ja.test(n+J.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[J.expando]?b:new J.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:J.makeArray(c,[b]),l=J.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!J.isWindow(d)){for(i=l.delegateType||n,ja.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||H)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(ba.get(g,"events")||{})[b.type]&&ba.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&J.acceptData(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!J.acceptData(d)||j&&J.isFunction(d[n])&&!J.isWindow(d)&&(h=d[j],h&&(d[j]=null),J.event.triggered=n,d[n](),J.event.triggered=void 0,h&&(d[j]=h)),b.result}},dispatch:function(a){a=J.event.fix(a);var b,c,d,e,f,g=[],h=z.call(arguments),i=(ba.get(this,"events")||{})[a.type]||[],j=J.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=J.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(f.namespace))&&(a.handleObj=f,a.data=f.data,d=((J.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?J(e,this).index(i)>=0:J.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||H,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[J.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=ia.test(e)?this.mouseHooks:ha.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new J.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=H),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==k()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===k()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&J.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return J.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=J.extend(new J.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?J.event.trigger(e,null,b):J.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},J.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},J.Event=function(a,b){return this instanceof J.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?i:j):this.type=a,b&&J.extend(this,b),this.timeStamp=a&&a.timeStamp||J.now(),void(this[J.expando]=!0)):new J.Event(a,b)},J.Event.prototype={isDefaultPrevented:j,isPropagationStopped:j,isImmediatePropagationStopped:j,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=i,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=i,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=i,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},J.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){J.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!J.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),G.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){J.event.simulate(b,a.target,J.event.fix(a),!0)};J.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=ba.access(d,b);e||d.addEventListener(a,c,!0),ba.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=ba.access(d,b)-1;e?ba.access(d,b,e):(d.removeEventListener(a,c,!0),ba.remove(d,b))}}}),J.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=j;else if(!d)return this;return 1===e&&(f=d,d=function(a){return J().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=J.guid++)),this.each(function(){J.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,J(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=j),this.each(function(){J.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){J.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?J.event.trigger(a,b,c,!0):void 0}});var la=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ma=/<([\w:]+)/,na=/<|&#?\w+;/,oa=/<(?:script|style|link)/i,pa=/checked\s*(?:[^=]|=\s*.checked.)/i,qa=/^$|\/(?:java|ecma)script/i,ra=/^true\/(.*)/,sa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ta={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ta.optgroup=ta.option,ta.tbody=ta.tfoot=ta.colgroup=ta.caption=ta.thead,ta.th=ta.td,J.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=J.contains(a.ownerDocument,a);if(!(G.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||J.isXMLDoc(a)))for(g=q(h),f=q(a),d=0,e=f.length;e>d;d++)r(f[d],g[d]);if(b)if(c)for(f=f||q(a),g=g||q(h),d=0,e=f.length;e>d;d++)p(f[d],g[d]);else p(a,h);return g=q(h,"script"),g.length>0&&o(g,!i&&q(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;n>m;m++)if(e=a[m],e||0===e)if("object"===J.type(e))J.merge(l,e.nodeType?[e]:e);else if(na.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(ma.exec(e)||["",""])[1].toLowerCase(),h=ta[g]||ta._default,f.innerHTML=h[1]+e.replace(la,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;J.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===J.inArray(e,d))&&(i=J.contains(e.ownerDocument,e),f=q(k.appendChild(e),"script"),i&&o(f),c))for(j=0;e=f[j++];)qa.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=J.event.special,g=0;void 0!==(c=a[g]);g++){if(J.acceptData(c)&&(e=c[ba.expando],e&&(b=ba.cache[e]))){if(b.events)for(d in b.events)f[d]?J.event.remove(c,d):J.removeEvent(c,d,b.handle);ba.cache[e]&&delete ba.cache[e]}delete ca.cache[c[ca.expando]]}}}),J.fn.extend({text:function(a){return aa(this,function(a){return void 0===a?J.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=l(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=l(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?J.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||J.cleanData(q(c)),c.parentNode&&(b&&J.contains(c.ownerDocument,c)&&o(q(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(J.cleanData(q(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return J.clone(this,a,b)})},html:function(a){return aa(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!oa.test(a)&&!ta[(ma.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(la,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(J.cleanData(q(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,J.cleanData(q(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=A.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,o=a[0],p=J.isFunction(o);if(p||j>1&&"string"==typeof o&&!G.checkClone&&pa.test(o))return this.each(function(c){var d=k.eq(c);p&&(a[0]=o.call(this,c,d.html())),d.domManip(a,b)});if(j&&(c=J.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(e=J.map(q(c,"script"),m),f=e.length;j>i;i++)g=c,i!==l&&(g=J.clone(g,!0,!0),f&&J.merge(e,q(g,"script"))),b.call(this[i],g,i);if(f)for(h=e[e.length-1].ownerDocument,J.map(e,n),i=0;f>i;i++)g=e[i],qa.test(g.type||"")&&!ba.access(g,"globalEval")&&J.contains(h,g)&&(g.src?J._evalUrl&&J._evalUrl(g.src):J.globalEval(g.textContent.replace(sa,"")))}return this}}),J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){J.fn[a]=function(a){for(var c,d=[],e=J(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),J(e[g])[b](c),B.apply(d,c.get());return this.pushStack(d)}}),J.fn.delay=function(a,b){return a=J.fx?J.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=H.createElement("input"),b=H.createElement("select"),c=b.appendChild(H.createElement("option"));a.type="checkbox",G.checkOn=""!==a.value,G.optSelected=c.selected,b.disabled=!0,G.optDisabled=!c.disabled,a=H.createElement("input"),a.value="t",a.type="radio",G.radioValue="t"===a.value}();var ua,va,wa=J.expr.attrHandle;J.fn.extend({attr:function(a,b){return aa(this,J.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){J.removeAttr(this,a)})}}),J.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===ga?J.prop(a,b,c):(1===f&&J.isXMLDoc(a)||(b=b.toLowerCase(),d=J.attrHooks[b]||(J.expr.match.bool.test(b)?va:ua)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=J.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void J.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match($);if(f&&1===a.nodeType)for(;c=f[e++];)d=J.propFix[c]||c,J.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!G.radioValue&&"radio"===b&&J.nodeName(a,"input")){
var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),va={set:function(a,b,c){return b===!1?J.removeAttr(a,c):a.setAttribute(c,c),c}},J.each(J.expr.match.bool.source.match(/\w+/g),function(a,b){var c=wa[b]||J.find.attr;wa[b]=function(a,b,d){var e,f;return d||(f=wa[b],wa[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,wa[b]=f),e}});var xa=/^(?:input|select|textarea|button)$/i;J.fn.extend({prop:function(a,b){return aa(this,J.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[J.propFix[a]||a]})}}),J.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!J.isXMLDoc(a),f&&(b=J.propFix[b]||b,e=J.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||xa.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),G.optSelected||(J.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),J.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){J.propFix[this.toLowerCase()]=this});var ya=/[\t\r\n\f]/g;J.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(J.isFunction(a))return this.each(function(b){J(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match($)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ya," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=J.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(J.isFunction(a))return this.each(function(b){J(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match($)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ya," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?J.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):J.isFunction(a)?this.each(function(c){J(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=J(this),f=a.match($)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===ga||"boolean"===c)&&(this.className&&ba.set(this,"__className__",this.className),this.className=this.className||a===!1?"":ba.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ya," ").indexOf(b)>=0)return!0;return!1}});var za=/\r/g;J.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=J.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,J(this).val()):a,null==e?e="":"number"==typeof e?e+="":J.isArray(e)&&(e=J.map(e,function(a){return null==a?"":a+""})),b=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=J.valHooks[e.type]||J.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(za,""):null==c?"":c)}}}),J.extend({valHooks:{option:{get:function(a){var b=J.find.attr(a,"value");return null!=b?b:J.trim(J.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(G.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!J.nodeName(c.parentNode,"optgroup"))){if(b=J(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=J.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=J.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]={set:function(a,b){return J.isArray(b)?a.checked=J.inArray(J(a).val(),b)>=0:void 0}},G.checkOn||(J.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Aa=J.now(),Ba=/\?/;J.parseJSON=function(a){return JSON.parse(a+"")},J.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&J.error("Invalid XML: "+a),b};var Ca,Da,Ea=/#.*$/,Fa=/([?&])_=[^&]*/,Ga=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ha=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ia=/^(?:GET|HEAD)$/,Ja=/^\/\//,Ka=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,La={},Ma={},Na="*/".concat("*");try{Da=location.href}catch(Oa){Da=H.createElement("a"),Da.href="",Da=Da.href}Ca=Ka.exec(Da.toLowerCase())||[],J.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Da,type:"GET",isLocal:Ha.test(Ca[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Na,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?u(u(a,J.ajaxSettings),b):u(J.ajaxSettings,a)},ajaxPrefilter:s(La),ajaxTransport:s(Ma),ajax:function(a,b){function c(a,b,c,g){var i,k,r,s,t,x=b;2!==u&&(u=2,h&&clearTimeout(h),d=void 0,f=g||"",y.readyState=a>0?4:0,i=a>=200&&300>a||304===a,c&&(s=v(l,y,c)),s=w(l,s,y,i),i?(l.ifModified&&(t=y.getResponseHeader("Last-Modified"),t&&(J.lastModified[e]=t),t=y.getResponseHeader("etag"),t&&(J.etag[e]=t)),204===a||"HEAD"===l.type?x="nocontent":304===a?x="notmodified":(x=s.state,k=s.data,r=s.error,i=!r)):(r=x,(a||!x)&&(x="error",0>a&&(a=0))),y.status=a,y.statusText=(b||x)+"",i?o.resolveWith(m,[k,x,y]):o.rejectWith(m,[y,x,r]),y.statusCode(q),q=void 0,j&&n.trigger(i?"ajaxSuccess":"ajaxError",[y,l,i?k:r]),p.fireWith(m,[y,x]),j&&(n.trigger("ajaxComplete",[y,l]),--J.active||J.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=J.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?J(m):J.event,o=J.Deferred(),p=J.Callbacks("once memory"),q=l.statusCode||{},r={},s={},u=0,x="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!g)for(g={};b=Ga.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return u||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)q[b]=[q[b],a[b]];else y.always(a[y.status]);return this},abort:function(a){var b=a||x;return d&&d.abort(b),c(0,b),this}};if(o.promise(y).complete=p.add,y.success=y.done,y.error=y.fail,l.url=((a||l.url||Da)+"").replace(Ea,"").replace(Ja,Ca[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=J.trim(l.dataType||"*").toLowerCase().match($)||[""],null==l.crossDomain&&(i=Ka.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]===Ca[1]&&i[2]===Ca[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Ca[3]||("http:"===Ca[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=J.param(l.data,l.traditional)),t(La,l,b,y),2===u)return y;j=l.global,j&&0===J.active++&&J.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Ia.test(l.type),e=l.url,l.hasContent||(l.data&&(e=l.url+=(Ba.test(e)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Fa.test(e)?e.replace(Fa,"$1_="+Aa++):e+(Ba.test(e)?"&":"?")+"_="+Aa++)),l.ifModified&&(J.lastModified[e]&&y.setRequestHeader("If-Modified-Since",J.lastModified[e]),J.etag[e]&&y.setRequestHeader("If-None-Match",J.etag[e])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&y.setRequestHeader("Content-Type",l.contentType),y.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Na+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)y.setRequestHeader(k,l.headers[k]);if(l.beforeSend&&(l.beforeSend.call(m,y,l)===!1||2===u))return y.abort();x="abort";for(k in{success:1,error:1,complete:1})y[k](l[k]);if(d=t(Ma,l,b,y)){y.readyState=1,j&&n.trigger("ajaxSend",[y,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){y.abort("timeout")},l.timeout));try{u=1,d.send(r,c)}catch(z){if(!(2>u))throw z;c(-1,z)}}else c(-1,"No Transport");return y},getJSON:function(a,b,c){return J.get(a,b,c,"json")},getScript:function(a,b){return J.get(a,void 0,b,"script")}}),J.each(["get","post"],function(a,b){J[b]=function(a,c,d,e){return J.isFunction(c)&&(e=e||d,d=c,c=void 0),J.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),J.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){J.fn[b]=function(a){return this.on(b,a)}}),J._evalUrl=function(a){return J.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};var Pa=/%20/g,Qa=/\[\]$/,Ra=/\r?\n/g,Sa=/^(?:submit|button|image|reset|file)$/i,Ta=/^(?:input|select|textarea|keygen)/i;J.param=function(a,b){var c,d=[],e=function(a,b){b=J.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=J.ajaxSettings&&J.ajaxSettings.traditional),J.isArray(a)||a.jquery&&!J.isPlainObject(a))J.each(a,function(){e(this.name,this.value)});else for(c in a)x(c,a[c],b,e);return d.join("&").replace(Pa,"+")},J.fn.extend({serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=J.prop(this,"elements");return a?J.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!J(this).is(":disabled")&&Ta.test(this.nodeName)&&!Sa.test(a)&&(this.checked||!fa.test(a))}).map(function(a,b){var c=J(this).val();return null==c?null:J.isArray(c)?J.map(c,function(a){return{name:b.name,value:a.replace(Ra,"\r\n")}}):{name:b.name,value:c.replace(Ra,"\r\n")}}).get()}}),J.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Ua=0,Va={},Wa={0:200,1223:204},Xa=J.ajaxSettings.xhr();a.ActiveXObject&&J(a).on("unload",function(){for(var a in Va)Va[a]()}),G.cors=!!Xa&&"withCredentials"in Xa,G.ajax=Xa=!!Xa,J.ajaxTransport(function(a){var b;return G.cors||Xa&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Ua;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Va[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Wa[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Va[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return J.globalEval(a),a}}}),J.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),J.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=J("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),H.head.appendChild(b[0])},abort:function(){c&&c()}}}}),J.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||H;var d=T.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=J.buildFragment([a],b,e),e&&e.length&&J(e).remove(),J.merge([],d.childNodes))};var Ya=J.fn.load;J.fn.load=function(a,b,c){if("string"!=typeof a&&Ya)return Ya.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=J.trim(a.slice(h)),a=a.slice(0,h)),J.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&J.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?J("<div>").append(J.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this};var Za=a.jQuery,$a=a.$;return J.noConflict=function(b){return a.$===J&&(a.$=$a),b&&a.jQuery===J&&(a.jQuery=Za),J},typeof b===ga&&(a.jQuery=a.$=J),J}),angular.module("config",[]).constant("apiver",.1).constant("debug",!1).constant("serviceTokens",{pusher:"6f37f3288a3762e60f94",pusherAsia:"9dc7a54f5123dce8c3a5"}).constant("appMeta",{version:"2.3.8",stage:"production"}),function(){"use strict";var a,b;b=angular.module("idTransition",["idCacheFactories","angularSpinner"]),b.factory("idTransitionPrevented",["$rootScope","$state","ErrorCache","FlashCache","usSpinnerService",function(a,b,c,d,e){var f,g;return g=function(a){return null!=a.config&&null!=a.config.url&&/(GET|POST)/.test(a.config.method)},f=function(f){var h,i;return console.log("Transition Prevented.",f),a.transitionInProgress=!1,e.stop("global-spinner"),g(f)?(h=(new Date).getTime(),i={error:f,context:"Remote $state dependency failed to resolve."},c.put(h,i),d.put("error",f.data.message),b.go("abort")):void 0}}]),angular.module("exceptionOverride",[]).factory("$exceptionHandler",["$window","CallStationCache","appMeta",function(a,b,c){return Bugsnag.notifyReleaseStages=["development","production"],Bugsnag.releaseStage=c.stage,Bugsnag.appVersion=c.version,function(a,c){var d,e,f;return d=b.get("caller"),e=b.get("campaign"),f=b.get("call_station"),Bugsnag.user=d,Bugsnag.metaData={campaign:e,station:f},Bugsnag.notifyException(a,{angular:{cause:c}})}}]),angular.module("HttpErrors",[]).factory("idHttpError",["$window","$state","FlashCache","CallStationCache",function(a,b,c,d){var e;return e=function(a){var e;return null!=a.status&&/^5\d\d/.test(a.status)?(e=new Error("Survey fields failed to load"),Bugsnag.notifyException(e,{campaign:d.get("campaign"),station:d.get("call_station"),user:d.get("caller"),http_response:{status:a.status,status_text:a.statusText,data:a.data},angular:{cause:cause,state:b.current}})):null!=a.message?(console.log("Error",a.message),c.put("error",a.message),b.go("abort")):void 0}}]),a=angular.module("callveyor",["config","exceptionOverride","idDeviceDetect","ui.bootstrap","ui.router","doowb.angular-pusher","pusherConnectionHandlers","idTwilio","idFlash","idTransition","idCacheFactories","angularSpinner","callveyor.dialer"]),a.config(["$stateProvider","serviceTokens","idTwilioServiceProvider","PusherServiceProvider",function(a,b,c,d){return c.setScriptUrl("//static.twilio.com/libs/twiliojs/1.2/twilio.js"),"au.impactdialing.com"===window.location.hostname?(d.setOptions({cluster:"ap1"}),d.setToken(b.pusherAsia)):d.setToken(b.pusher),a.state("abort",{template:"",controller:"AppCtrl.abort"})}]),a.controller("AppCtrl.abort",["$http","TwilioCache","FlashCache","PusherService","idFlashFactory",function(a,b,c,d,e){var f,g;return f=c.get("error"),e.now("danger",f),c.remove("error"),console.log("AppCtrl.abort",f),g=b.get("connection"),null!=g&&g.disconnect(),d.then(function(a){return"connected"===a.connection.state?a.disconnect():void 0})}]),a.controller("MetaCtrl",["$scope",function(a){return a.currentYear=(new Date).getFullYear()}]),a.controller("AppCtrl",["$rootScope","$scope","$state","$timeout","$window","usSpinnerService","PusherService","pusherConnectionHandlerFactory","idFlashFactory","idTransitionPrevented","TransitionCache","HouseholdCache","CallStationCache","ErrorCache",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o,p,q,r,s,t,u;return a.transitionInProgress=!1,q=function(){var a,b;return a=l.get("data"),b="",null!=a&&null!=a.phone&&(b=a.phone),b},p=function(){var a,b;return a=m.get("caller"),b=m.get("campaign"),{caller:a,campaign:b}},u=function(b,c,d,e,g){return f.spin("global-spinner"),a.transitionInProgress=!0},s=function(b,c,d,e,g){return a.transitionInProgress=!1,f.stop("global-spinner"),Bugsnag.context=c.name},t=function(b,c,d,e){var g,h,i;return i=q(),h=p(),g=new Error("$state change failed to transition"),Bugsnag.notifyException(g,{angular:{cause:cause,to:c.name,from:d.name,error_cache:angular.toJson(n,!0),phone:i,meta:angular.toJson(h,!0)}}),a.transitionInProgress=!1,f.stop("global-spinner")},a.$on("$stateChangeStart",u),a.$on("$stateChangeSuccess",s),a.$on("$stateChangeError",t),r=function(){var a;return a=function(){var a;return a=c.go("dialer.ready"),a["catch"](j)},d(a,300)},o=function(){return console.log("Unsupported browser..."),k.put("pusher:bad_browser",".")},a.$on("pusher:ready",r),a.$on("pusher:bad_browser",o),g.then(h.success,h.loadError)}])}.call(this),function(){"use strict";var a;a=angular.module("idDeviceDetect",[]),a.factory("idDeviceDetectFactory",["$window",function(a){var b;return b={userAgent:navigator.userAgent.toLowerCase()},b.isMobile=function(){return angular.isFunction(window.matchMedia)?a.matchMedia("(max-width: 767px)").matches:!1},b.isAndroid=function(){return b.userAgent.indexOf("android")>-1},b}])}.call(this),function(){var a,b;angular.module("idCacheFactories",[]),b=function(a){return angular.module("idCacheFactories").factory(""+a+"Cache",["$cacheFactory",function(b){return b(a)}])},a=function(a,b){return angular.module("idCacheFactories").factory(""+a+"Cache",["$cacheFactory","$window",function(b,c){var d,e,f,g,h;return d=b(a),e={},c._errs||(c._errs={}),g=function(){return c.idDebugData||(c.idDebugData={}),c.idDebugData[a]=e},h=function(){return(new Date).getTime()},f={put:function(b,c){var f;return f=h(),e[f]={},e[f][""+a+"Cache:"+b]=c,g(),d.put(b,c)},get:function(a){return d.get(a)},remove:function(a){return d.remove(a)}}}])},b("Twilio"),b("Contact"),b("Household"),b("Survey"),b("CallStation"),b("Error"),b("Transition"),b("Flash"),b("Call"),b("Transfer")}.call(this),function(){var a;a=angular.module("transitionGateway",["ui.router","angularSpinner","idCacheFactories"]),a.constant("validTransitions",{root:["dialer.ready"],abort:["dialer.ready"],"dialer.ready":["abort","dialer.hold"],"dialer.hold":["abort","dialer.active","dialer.stop"],"dialer.active":["abort","dialer.wrap","dialer.stop","dialer.active.transfer.selected","dialer.active.transfer.reselected","dialer.active.transfer.conference"],"dialer.active.transfer.selected":["abort","dialer.active","dialer.wrap","dialer.active.transfer.conference","dialer.active.transfer.reselect"],"dialer.active.transfer.reselect":["abort","dialer.active","dialer.wrap","dialer.active.transfer.conference","dialer.active.transfer.selected"],"dialer.active.transfer.conference":["abort","dialer.active","dialer.wrap"],"dialer.wrap":["abort","dialer.hold","dialer.stop","dialer.ready"],"dialer.stop":["abort","dialer.ready"]}),a.factory("transitionValidator",["$rootScope","validTransitions","ErrorCache","HouseholdCache","usSpinnerService",function(a,b,c,d,e){return{reviewTransition:function(f,g,h,i,j){var k,l,m,n,o,p;return p=g.name,l=i.name||"root",n=function(){var a,b;return a=d.get("data"),b="",null!=a&&null!=a.phone&&(b=a.phone),b},m=function(){var a,b;return a=CallStationCache.get("caller"),b=CallStationCache.get("campaign"),{caller:a,campaign:b}},k=b[l],null==k||-1===k.indexOf(p)?(o=n(),c.put("InvalidTransition prevented",{toName:p,fromName:l,phone:o}),a.transitionInProgress=!1,e.stop("global-spinner"),f.preventDefault()):void 0},start:function(){return angular.isFunction(this.stop)&&this.stop(),this.stop=a.$on("$stateChangeStart",this.reviewTransition)},stop:function(){}}}])}.call(this),function(){"use strict";var a;a=angular.module("Janitor",["idCacheFactories"]),a.factory("idJanitor",["idWindowUnload",function(a){var b;return b={},b.makeRequest=function(a,b){return jQuery.ajax({url:a,data:b,type:"POST",async:!1,success:function(){return console.log("Bye.")}})},b}]),a.factory("idWindowUnload",["$window","$rootScope",function(a,b){return a.onbeforeunload=function(a){var c,d;return c={},d=b.$broadcast("window:onbeforeunload",c),d.defaultPrevented?c.message:void 0},a.onunload=function(){return b.$broadcast("window:onunload")},{}}])}.call(this),function(){"use strict";var a;a=angular.module("pusherConnectionHandlers",["idFlash","angularSpinner"]),a.factory("pusherConnectionHandlerFactory",["$rootScope","$window","$timeout","usSpinnerService","idFlashFactory",function(a,b,c,d,e){var f;return f={success:function(b){var f,g,h,i,j,k;return f=function(c){return d.stop("global-spinner"),b.connection.unbind("connected",f),b.connection.bind("connected",j),a.$broadcast("pusher:ready"),e.nowAndDismiss("success","Connected!",3e3)},j=function(a){var b;return d.stop("global-spinner"),b=function(){return e.nowAndDismiss("success","Re-connected!",3e3,!1)},c(b,0)},g=function(a){var b;return d.stop("global-spinner"),d.spin("global-spinner"),b=function(){return e.now("warning","Your browser has lost its connection. Reconnecting...",!1)},c(b,0)},k=function(a){var b;return b=function(){return e.now("danger","Your browser has lost its connection.",!1)},c(b,0)},h=function(a){var b;return b=function(){return e.now("warning","Your browser could not re-connect. Connecting in "+a+" seconds.",!1)},c(b,0)},i=function(b){return a.$broadcast("pusher:bad_browser")},b.connection.bind("connected",f),b.connection.bind("connecting",g),b.connection.bind("unavailable",k),b.connection.bind("connecting_in",h),b.connection.bind("failed",i)},loadError:function(a){return a||(a=new Error("Pusher service failed to resolve.")),b.Bugsnag.notifyException(a),e.now("danger","An error occurred loading the page. Please refresh to try again.")}}}])}.call(this),function(){var a;a=angular.module("idTwilioConnectionHandlers",["ui.router","idFlash","idTransition","idTwilio","idCacheFactories"]),a.factory("idTwilioConnectionFactory",["$rootScope","$window","$http","TwilioCache","idFlashFactory","idTwilioService","idTwilioConfig",function(a,b,c,d,e,f,g){var h,i;return i={},h={boundEvents:[],isOffline:function(){var a;return a=d.get("connection"),null!=a&&"offline"===a.status()?!0:!1},disconnectAll:function(){var a;return a=d.get("connection"),null!=a?(d.put("disconnect_pending",!0),a.disconnect()):void 0},boundEventsMissing:function(a){return-1===h.boundEvents.indexOf(a)},connect:function(a){return i=a,f.then(h.resolved,h.resolveError)},connected:function(a){return d.put("connection",a),angular.isFunction(h.afterConnected)?h.afterConnected():void 0},disconnected:function(a){var b;return b=d.get("disconnect_pending"),null==b?e.now("danger","Your browser lost its voice connection. Please check your internet connection, submit your responses, and reload the page."):d.remove("disconnect_pending"),d.remove("connection")},error:function(a){var c;switch(a.code){case 31e3:case 31002:return e.now("warning","There was an error connecting to the voice servers. Please check your internet connection, submit your responses if applicable, and refresh your page.",!1);case 31003:if(/^ICE liveness checks failed/.test(a.message))return e.now("warning","Your connection to the voice servers has degraded, and you may experience poor audio quality. Please check your internet connection.",!1);if(/^ICE negotiation with Twilio failed/.test(a.message))return e.now("warning","Your connection to the voice servers has been lost. Please check your internet connection, submit your responses if applicable, and refresh the page.",!1);break;case 31202:return e.now("danger","There was an error. Please refresh the page.",!1);case 31204:return e.now("danger","There was an error. Please refresh the page.",!1);case 31205:break;case 31208:return e.now("warning","You denied access to your computer's microphone. Please refresh the page and try again.",!1);default:return c=new Error("Twilio Error. ["+a.code+"] "+a.message+" ("+a.info+")"),b.Bugsnag.notifyException(c)}},resolved:function(a){return h.boundEventsMissing("connect")&&(a.Device.connect(h.connected),h.boundEvents.push("connect")),h.boundEventsMissing("disconnect")&&(a.Device.disconnect(h.disconnected),h.boundEvents.push("disconnect")),h.boundEventsMissing("error")&&(a.Device.error(h.error),h.boundEvents.push("error")),a.Device.connect(i)},resolveError:function(a){return e.now("danger","Voice setup failed. Refresh the page or dial-in to continue.")}}}])}.call(this),function(){"use strict";var a;a=angular.module("callveyor.call_flow",["ui.router","idFlash","idTransition","idCacheFactories","Janitor","callveyor.http_dialer"]),a.factory("CallerReassignedMessage",[function(){var a;return a=function(a,b){var c,d,e,f;return f=['An admin reassigned you to the "'+b.name+'" campaign!'],a.type===b.type?f[0]:(e=function(a){return"preview"===a.toLowerCase()},c=function(a){return"power"===a.toLowerCase()},d=function(a){return"predictive"===a.toLowerCase()},e(a.type)&&f.push("Calls will now be dialed automatically."),e(b.type)&&f.push("Calls will not be dialed until the 'Dial' button is clicked."),d(b.type)&&f.push("Contact info will not display until a call is answered."),f.join(" "))}}]),a.factory("idCallFlow",["$rootScope","$state","$window","$cacheFactory","CallCache","idJanitor","TransferCache","FlashCache","HouseholdCache","idHttpDialerFactory","idFlashFactory","usSpinnerService","idTransitionPrevented","CallStationCache","TwilioCache","CallerReassignedMessage",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q,r,s;return s=function(){var a,b;return a=g.get("selected"),b=g.get("type"),null!=a&&/warm/i.test(a.transfer_type)||/warm/i.test(b)},c.idDebugData||(c.idDebugData={}),q=!1,r={startCalling:function(a){var b;return b=n.get("caller"),b.session_id=a.caller_session_id,c.idDebugData.caller=b,c.Bugsnag.user={id:b.session_id}},conferenceStarted:function(d){var e,f,g;return f=n.get("campaign"),f.type=d.dialer,delete d.dialer,d.campaign_out_of_leads?(o.put("disconnect_pending",!0),h.put("error","All numbers have been dialed! Please get in touch with your account admin for further instructions."),i.put("data",{}),a.$broadcast("household:changed"),g=b.go("abort"),void g["catch"](m)):(i.put("data",d),a.$broadcast("household:changed"),c.idDebugData.campaign=f,c.idDebugData.household=d,g=b.go("dialer.hold"),g["catch"](m),"Power"===f.type?(e=n.get("caller"),j.dialContact(e.id,{session_id:e.session_id,phone:d.phone})):void 0)},callerConnectedDialer:function(){var c,d;return d=function(){return i.put("data",{}),a.$broadcast("household:changed")},c=b.go("dialer.hold"),c.then(d,m)},callerReassigned:function(b){var c,d,e,f;return d={},c=n.get("campaign"),e=angular.copy(c),c.name=b.campaign_name,c.type=b.campaign_type,c.id=b.campaign_id,delete b.campaign_name,delete b.campaign_type,delete b.campaign_id,f=function(){return d(),r.conferenceStarted(b),k.now("info",p(e,c))},d=a.$on("survey:load:success",f),a.$broadcast("survey:reload")},callingVoter:function(){},voterConnected:function(a){var d;return e.put("id",a.call_sid),c.idDebugData.call_sid=a.call_sid,d=b.go("dialer.active"),d["catch"](m)},voterConnectedDialer:function(d){var f,g;return g=function(){return i.put("data",d.household),a.$broadcast("household:changed"),e.put("id",d.call_sid),c.idDebugData.household=d.household,c.idDebugData.call_sid=d.call_sid},f=b.go("dialer.active"),f.then(g,m)},voterDisconnected:function(){var a;return s()?void 0:(a=b.go("dialer.wrap"),a["catch"](m))},callerDisconnected:function(){var a;return b.is("dialer.active")?(k.now("danger","Your browser lost its voice connection. Please check your internet connection, submit your responses, and reload the page."),a=b.go("dialer.wrap"),a["catch"](m)):b.is("dialer.wrap")?void 0:(a=b.go("dialer.ready"),a["catch"](m))},callEnded:function(a){var c,e,f,g,h,i,j;return j=a.status,c=a.campaign_type,h=a.number,i=function(){return"completed"!==j&&b.is("dialer.hold")&&"Predictive"!==c},i()?(g=""+h+" "+j,k.nowAndDismiss("info",g,3e3),f=d.get("hold"),e=f.get("sharedScope"),e.reset()):void 0},transferBusy:function(a){var b,c,d;return d=a.status,b=a.label,c="Transfer ended with "+a.status,k.nowAndDismiss("info",c,3e3),r.transferConferenceEnded()},transferConnected:function(a){return g.put("type",a.type),c.idDebugData.transfer={type:a.type,selected:g.get("selected")}},contactJoinedTransferConference:function(){var a;return s()?void 0:(a=b.go("dialer.wrap"),a["catch"](m))},callerJoinedTransferConference:function(){var a;return a=b.go("dialer.active.transfer.conference"),a["catch"](m)},transferConferenceEnded:function(){var a,c,d;return a=s(),d=g.get("selected"),null!=d&&g.put("hangup_method","kick"),g.remove("type"),g.remove("selected"),a&&(b.is("dialer.active.transfer.conference")||b.is("dialer.active.transfer.selected")||b.is("dialer.active.transfer.reselect"))?(c=b.go("dialer.active"),c["catch"](m)):void 0},warmTransfer:function(){return console.log("warm_transfer deprecated")},coldTransfer:function(){return console.log("cold_transfer deprecated")},callerKickedOff:function(){var a;return g.remove("type"),g.remove("selected"),a=b.go("dialer.wrap"),a["catch"](m)},callerWrapupVoiceHit:function(){var a,c,e;return g.remove("type"),g.remove("selected"),b.is("dialer.hold")&&(c=d.get("hold"),a=c.get("sharedScope"),a.reset()),e=b.go("dialer.wrap"),e["catch"](m)},messageDropError:function(a){return k.now("danger",a.message,7e3)},messageDropSuccess:function(){var a;return a=b.go("dialer.wrap"),a["catch"](c.Bugsnag.notifyException)}}}])}.call(this),function(){"use strict";var a;a=angular.module("idScriptLoader",[]),a.factory("idScriptLoader",["$window","$document",function(b,c){return a={},a.createScriptTag=function(a,b,d){var e,f;return f=c[0].createElement("script"),f.type="text/javascript",f.async=!0,f.id=a,f.src=b,f.onreadystatechange=function(){return"complete"===this.readyState?d():void 0},f.onload=d,e=c.find("body")[0],e.appendChild(f)},a}])}.call(this),function(){"use strict";var a;a=angular.module("idTwilio",["idScriptLoader","config"]),a.factory("idTwilioConfig",["$http","$window","TwilioCache","debug",function(a,b,c,d){var e,f;return f="",e={token:f,fetchToken:function(d,f){var g,h,i;return h=a.get(c.get("tokenUrl")),i=function(a){return e.token=a.data.twilio_token,null!=d?d(a):void 0},g=function(a){return b.Bugsnag.notifyException(a),null!=f?f(a):void 0},h.then(i,g)},setupDevice:function(){return null!=b.Twilio?new b.Twilio.Device.setup(e.token,{debug:d}):console.log("setupDevice: Twilio not loaded.")}},e.debug=d,e}]),a.provider("idTwilioService",function(){var a,b,c,d;return c="//static.twilio.com/libs/twiliojs/1.2/twilio.js",b="TwilioJS",d="/call_center/api/twilio_token.json",a={},this.setOptions=function(b){return a=b||a,this},this.setScriptUrl=function(a){return c=a||c,this},this.setTokenUrl=function(a){return d=a||d},this.tokenUrl=function(){return d},this.$get=["$q","$window","$timeout","$http","TwilioCache","idTwilioConfig","idScriptLoader",function(a,e,f,g,h,i,j){var k,l,m,n,o;return h.put("tokenUrl",d),o="",k=a.defer(),l=function(a){return f(function(){return k.resolve(e.Twilio),i.setupDevice()})},n=function(a){return j.createScriptTag(b,c,l)},m=function(a){var b;return b=new Error("Error fetching tokens from idTwilioService. "+a.message),e.Bugsnag.notifyException(b)},i.fetchToken(n,m),k.promise}],this})}.call(this),function(){"use strict";var a;a=angular.module("callveyor.http_dialer",["idFlash","angularSpinner","idCacheFactories"]),a.factory("idHttpDialerFactory",["$rootScope","$timeout","$http","idFlashFactory","usSpinnerService","TwilioCache",function(a,b,c,d,e,f){var g,h,i,j;return h={},g=function(a,b){return e.spin("global-spinner"),c.post(a,b);
},j=function(b,c,d,e){return h.caller_id=void 0,h.params=void 0,h.retry=!1,a.$broadcast("http_dialer:success",b)},i=function(b,c,d,e){return h.retry&&/(408|500|504)/.test(b.status)?(a.$broadcast("http_dialer:retrying",b),h[h.retry](h.caller_id,h.params,!1)):a.$broadcast("http_dialer:error",b)},h.retry=!1,h.dialContact=function(a,b,c){var d;if(null==a||null==b||null==b.session_id||null==b.phone)throw new Error("idHttpDialerFactory.dialContact("+a+", "+(b||{}).session_id+", "+(b||{}).phone+") called with invalid arguments. caller_id, params.session_id and params.phone are all required");return c?(h.caller_id=a,h.params=b,h.retry="dialContact"):(h.caller_id=void 0,h.params=void 0,h.retry=!1),d="/call_center/api/"+a+"/call_voter",g(d,b).then(j,i)},h.skipHousehold=function(a,b){var d;return h.retry=!1,e.spin("global-spinner"),d="/call_center/api/"+a+"/skip_voter",c.post(d,b)},h.dialTransfer=function(a,b){var c;return h.retry=!1,c="/call_center/api/transfer/dial",g(c,a).then(j,i)},h.kick=function(a,b){var d,f;return e.spin("global-spinner"),d={},d.caller_session_id=a.session_id,d.participant_type=b,f="/call_center/api/"+a.id+"/kick",c.post(f,d)},h.hangupTransfer=function(a){return h.retry=!1,h.kick(a,"transfer")},h.hangup=function(a,b,d){var e,f;return h.retry=!1,null!=b&&"kick"===b?h.kick(d,"caller"):(f="/call_center/api/hangup",e={sid:a},c.post(f,e))},h.dropMessage=function(a){var b;return e.spin("global-spinner"),b="/call_center/api/"+a+"/drop_message",c.post(b)},h}])}.call(this),function(){"use strict";var a;a=angular.module("idFlash",["idDeviceDetect"]),a.factory("idFlashFactory",["$timeout","idDeviceDetectFactory",function(a,b){var c;return c={alerts:[],nowAndDismiss:function(d,e,f,g){var h,i;return null==g&&(g=!0),b.isMobile()?alert(e):(i={type:d,message:e},g?c.alerts.push(i):c.alerts=[i],h=function(){var a;return a=c.alerts.indexOf(i),c.dismiss(a)},a(h,f))},now:function(a,d,e){var f;return null==e&&(e=!0),b.isMobile()?alert(d):(f={type:a,message:d},e?c.alerts.push(f):c.alerts=[f])},dismiss:function(a){return c.alerts.splice(a,1)}}}]),a.controller("idFlashCtrl",["$scope","idFlashFactory",function(a,b){return a.flash=b}]),a.directive("idUserMessages",function(){return{restrict:"A",templateUrl:"/callveyor/common/id_flash/id_flash.tpl.html",controller:"idFlashCtrl"}})}.call(this),function(){"use strict";var a;a=angular.module("callveyor.dialer",["ui.router","doowb.angular-pusher","transitionGateway","callveyor.dialer.ready","callveyor.dialer.hold","callveyor.dialer.active","callveyor.dialer.wrap","callveyor.dialer.stop","survey","callveyor.contact","callveyor.household","callveyor.call_flow","idTransition","idCacheFactories","HttpErrors"]),a.config(["$stateProvider",function(a){return a.state("dialer",{"abstract":!0,templateUrl:"/callveyor/dialer/dialer.tpl.html",resolve:{callStation:["$q","$http","idHttpError",function(a,b,c){var d,e;return d=a.defer(),e=b.post("/call_center/api/call_station.json"),e.error(function(a){return c(a),d.reject(a)}),e.success(function(a){return d.resolve(a)}),d.promise}]},controller:"DialerCtrl"})}]),a.controller("DialerCtrl",["$rootScope","Pusher","idCallFlow","transitionValidator","callStation","CallStationCache",function(a,b,c,d,e,f){var g,h;return h=e,null!=h?(f.put("caller",h.caller),f.put("campaign",h.campaign),f.put("call_station",h.call_station),f.put("permissions",h.permissions),g=h.caller.session_key,d.start(),b.subscribe(g,"start_calling",c.startCalling),b.subscribe(g,"conference_started",c.conferenceStarted),b.subscribe(g,"caller_connected_dialer",c.callerConnectedDialer),b.subscribe(g,"caller_reassigned",c.callerReassigned),b.subscribe(g,"calling_voter",c.callingVoter),b.subscribe(g,"voter_connected",c.voterConnected),b.subscribe(g,"voter_connected_dialer",c.voterConnectedDialer),b.subscribe(g,"voter_disconnected",c.voterDisconnected),b.subscribe(g,"caller_disconnected",c.callerDisconnected),b.subscribe(g,"transfer_busy",c.transferBusy),b.subscribe(g,"transfer_connected",c.transferConnected),b.subscribe(g,"transfer_conference_ended",c.transferConferenceEnded),b.subscribe(g,"contact_joined_transfer_conference",c.contactJoinedTransferConference),b.subscribe(g,"caller_joined_transfer_conference",c.callerJoinedTransferConference),b.subscribe(g,"caller_kicked_off",c.callerKickedOff),b.subscribe(g,"caller_wrapup_voice_hit",c.callerWrapupVoiceHit),b.subscribe(g,"call_ended",c.callEnded),b.subscribe(g,"message_drop_error",c.messageDropError),b.subscribe(g,"message_drop_success",c.messageDropSuccess)):void 0}])}.call(this),function(){"strict";var a;a=angular.module("callveyor.contact",["idCacheFactories"]),a.controller("ContactCtrl",["$rootScope","$scope","$state","$http","$sce","ContactCache",function(b,c,d,e,f,g){var h,i;return a={},a.data=g.get("data"),h=function(b,c,d,e,f){switch(c.name){case"dialer.stop":case"dialer.ready":return a.data={}}},i=function(){var b,c,d;return b=angular.copy(g.get("data")),d={},angular.forEach(b.fields,function(a,b){return d[b]=f.trustAsHtml(a)}),c=[],angular.forEach(b.custom_fields,function(a,b){var d;return d=[f.trustAsHtml(b),f.trustAsHtml(a)],c.push(d)}),b.fields=d,b.custom_fields=c,a.data=b},b.$on("contact:changed",i),b.$on("$stateChangeSuccess",h),c.contact=a}]),a.directive("idContact",function(){return{restrict:"A",templateUrl:"/callveyor/dialer/contact/info.tpl.html"}})}.call(this),function(){"strict";var a;a=angular.module("callveyor.household",["idCacheFactories"]),a.controller("HouseholdCtrl",["$rootScope","$scope","$state","$http","$sce","HouseholdCache",function(a,b,c,d,e,f){var g,h;return g=function(a,c,d,e,f){switch(c.name){case"dialer.stop":case"dialer.ready":return b.household={}}},b.contactSelected=function(){return f.put("selected",b.household.selected)},h=function(){var a,c;return a=angular.copy(f.get("data")),c=[],angular.forEach(a.members,function(a){var b,d;return d={},angular.forEach(a.fields,function(a,b){return d[b]=e.trustAsHtml(a)}),b=[],angular.forEach(a.custom_fields,function(a,c){var d;return d=[e.trustAsHtml(c),e.trustAsHtml(a)],b.push(d)}),a.fields=d,a.custom_fields=b,c.push(a)}),b.household={phone:a.phone,members:c},1===c.length?b.household.selected=c[0]:b.household.selected=null,b.contactSelected()},a.$on("household:changed",h),a.$on("$stateChangeSuccess",g)}]),a.directive("idHousehold",function(){return{restrict:"A",templateUrl:"/callveyor/dialer/household/household.tpl.html"}})}.call(this),function(){"use strict";var a,b={}.hasOwnProperty;a=angular.module("survey",["ui.router","angularSpinner","idFlash","idCacheFactories","Janitor"]),a.factory("SurveyFormFieldsFactory",["$http","$filter","$sce",function(a,b,c){var d;return d={data:{},prepareSurveyForm:function(a){var e,f,g,h,i,j,k,l;for(e=function(a,b){var d;switch(d={id:a.id,order:a.script_order,type:"",content:""},b){case"notes":d.type="note",d.content=a.note;break;case"script_texts":d.type="scriptText",d.content=c.trustAsHtml(a.markdown_content);break;case"questions":d.type="question",d.content=a.text,d.possibleResponses=a.possible_responses}return d},g=[],f=function(a,b){switch(b){case"notes":case"script_texts":case"questions":return angular.forEach(a,function(a){return g.push(e(a,b))})}},angular.forEach(a.data,function(a,b){return f(a,b)}),d.data=b("orderBy")(g,"order"),k=d.data,l=[],i=0,j=k.length;j>i;i++){if(h=k[i],"question"===h.type){h.possibleResponses.unshift({value:""});break}l.push(void 0)}return l},fetch:function(){return a.get("/call_center/api/survey_fields.json")}}}]),a.controller("SurveyFormCtrl",["$rootScope","$scope","$filter","$state","$http","$window","$timeout","TransferCache","CallCache","TwilioCache","usSpinnerService","SurveyFormFieldsFactory","idFlashFactory","SurveyCache","ErrorCache","idJanitor","HouseholdCache","CallStationCache",function(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t,u,v,w,x,y,z,A,B,C,D;return D={hideButtons:!0,responses:{notes:{},question:{}}},C=function(){return angular.forEach(D.form,function(a){return"question"===a.type&&null==D.responses.question[a.id]?D.responses.question[""+a.id]=a.possibleResponses[0]:void 0}),h(function(){return c.$digest()})},B=function(){return D.responses={voter_id:null,notes:{},question:{}},j.remove("id"),C()},t=function(a){var b;return b=a.data.transfers,i.put("list",b)},v=function(a){var b;return b=new Error("Survey fields failed to load"),g.Bugsnag.notifyException(b,{diagnostics:{Status:a.status,StatusText:a.statusText,Data:a.data}}),n.now("danger","Survey failed to load. Please refresh the page to try again.")},z=function(b){return m.prepareSurveyForm(b),D.form=m.data,C(),t(b),a.$broadcast("survey:load:success")},x=function(){return m.fetch().then(z,v)},w=function(a,b,c,d,e){switch(b.name){case"dialer.wrap":return D.hideButtons=!1;default:return D.hideButtons=!0}},a.$on("$stateChangeSuccess",w),y=function(){var a,b,c,d;a={},d=D.responses.question;for(b in d)c=d[b],a[b]=c.id;return a},u=function(){var a,b,c;return a=j.get("id"),b=s.get("caller").session_id,c=r.get("selected"),null==c?(n.nowAndDismiss("warning","Select a contact before saving.",4e3),!1):(c={id:c.id},{call_sid:a,lead:c,caller_session_id:b})},A=!1,D.save=function(c,d){var e,h,i,j,m,o,p,q,r,s;if(g.scrollTo(0,0),!A){s=D.responses.question;for(j in s)if(b.call(s,j)&&(o=s[j],""===o.value))return n.nowAndDismiss("warning","Select responses to the questions below.",4e3),void(a.transitionInProgress=!1);if(l.spin("global-spinner"),h=u(),null!=h.lead)return d||k.put("disconnect_pending",1),q=!1,p=function(b){return B(),a.$broadcast("survey:save:success",{andContinue:d}),q=!0},i=function(b){var c;switch(c="",b.status){case 400:c+="Bad request. Try again and report problem if error continues.";break;case 408:case 504:c+="Browser took too long sending data. Verify internet connection and try again. Report problem if the error continues.";break;case 500:c+="Server error. We have been notified and will update account holders soon. Report problem then Stop calling.";break;case 503:c+="Minor maintenance in-progress. Try again in a minute or so. Report problem if the error continues.";break;default:c+="Please try again and Report problem if the error continues."}return n.now("danger",c),a.transitionInProgress=!1},e=function(b){return A=!1,d&&q?l.spin("global-spinner"):(l.stop("global-spinner"),a.transitionInProgress=!1),a.$broadcast("survey:save:done",{andContinue:d})},A=!0,a.transitionInProgress=!0,r="/call_center/api/disposition",m={lead:h.lead,sid:h.call_sid,caller_session_id:h.caller_session_id,notes:D.responses.notes,question:y(),stop_calling:!d},f.post(r,m).then(p,i)["finally"](e)}},D.autoSubmitConfig=function(){var a;return a=u(),null==a.lead?void 0:{url:"/call_center/api/disposition",data:{lead:a.lead,sid:a.call_sid,caller_session_id:a.caller_session_id,notes:D.responses.notes,question:y(),stop_calling:!0}}},o.get("eventsBound")||(a.$on("survey:save:click",D.save),a.$on("survey:reload",x),a.$on("window:onbeforeunload",function(a,b){return e.is("dialer.wrap")||e.includes("dialer.active")?(b.message="Danger! You have unsaved changes. Please save before closing or refreshing the page.",a.preventDefault()):void 0}),a.$on("window:onunload",function(){var a,b,c,d,f,g;if(e.is("dialer.wrap")||e.includes("dialer.active")){if(a=u(),d=D.autoSubmitConfig(),null!=d)return q.makeRequest(d.url,d.data)}else if(!(e.is("")||e.is("dialer.ready")||e.is("abort")||e.is("dialer.stop")))return b=s.get("caller"),null!=b&&null!=b.id&&null!=b.session_id?(c=b.id,f={},f.session_id=b.session_id,g="/call_center/api/"+c+"/stop_calling",q.makeRequest(g,f)):Bugsnag.notify("CallerUndefined","CallStationCache had no caller",{caller:b,campaign:s.get("campaign"),station:s.get("call_station"),angular:{state:e.current}},"warning")}),o.put("eventsBound",!0)),x(),c.survey||(c.survey=D)}]),a.directive("idSurvey",function(){return{restrict:"A",templateUrl:"/callveyor/survey/survey.tpl.html",controller:"SurveyFormCtrl"}})}.call(this),function(){"use strict";var a;a=angular.module("callveyor.dialer.ready",["ui.router","ui.bootstrap","idTwilioConnectionHandlers","idFlash","idDeviceDetect","idCacheFactories"]),a.config(["$stateProvider",function(a){return a.state("dialer.ready",{views:{callFlowButtons:{templateUrl:"/callveyor/dialer/ready/callFlowButtons.tpl.html",controller:"ReadyCtrl.splash"},callStatus:{templateUrl:"/callveyor/dialer/ready/callStatus.tpl.html",controller:"ReadyCtrl.status"}}})}]),a.factory("ReadyEventHandlers",["$rootScope",function(a){var b;return b={bindCloseModal:function(c,d){return null!=b.boundCloseModal&&b.boundCloseModal(),b.boundCloseModal=a.$on(c,function(){return d.close()})}}}]),a.controller("ReadyCtrl.status",["$scope","CallStationCache",function(b,c){return a={},a.campaign=c.get("campaign"),b.ready=a}]),a.factory("BrowserPhone",["$state","CallStationCache","idTwilioConnectionFactory","idFlashFactory","idTransitionPrevented",function(a,b,c,d,e){var f;return f={},f.config=function(){return{caller:b.get("caller"),campaign:b.get("campaign"),call_station:b.get("call_station")}},f.start=function(){var b,d;return b=f.config(),d={PhoneNumber:b.call_station.phone_number,campaign_id:b.campaign.id,caller_id:b.caller.id,session_key:b.caller.session_key},c.afterConnected=function(){var b;return b=a.go("dialer.hold"),b["catch"](e)},c.connect(d)},f}]),a.controller("ReadyCtrl.splashModal",["$scope","$modalInstance","ReadyEventHandlers","BrowserPhone",function(b,c,d,e){var f;return f=e.config(),d.bindCloseModal(""+f.caller.session_key+":start_calling",c),a=f||{},a.startCalling=function(){return b.transitionInProgress=!0,e.start()},b.ready=a}]),a.controller("ReadyCtrl.splash",["$scope","$rootScope","$uibModal","$window","$http","idTwilioService","usSpinnerService","ErrorCache","idFlashFactory","BrowserPhone","idDeviceDetectFactory",function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n;return l=function(){return b.transitionInProgress=!1},m=function(){throw l(),Error("TwilioClient failed to load")},f.then(l,m),n={},n.getStarted=function(){var b;return k.isAndroid()?(a.transitionInProgress=!0,j.start()):b=c.open({templateUrl:"/callveyor/dialer/ready/splash.tpl.html",controller:"ReadyCtrl.splashModal",size:"md"})},n.logout=function(){var a,b;return a=e.post("/app/logout"),b=function(){return window.location.reload(!0)},m=function(a){return h.put("logout.failed",a),i.now("danger","Logout failed.")},a.then(b,m)},a.splash=n}])}.call(this),function(){"use strict";var a;a=angular.module("callveyor.dialer.hold",["ui.router","idCacheFactories"]),a.config(["$stateProvider",function(a){return a.state("dialer.hold",{views:{callFlowButtons:{templateUrl:"/callveyor/dialer/hold/callFlowButtons.tpl.html",controller:"HoldCtrl.buttons"},callStatus:{templateUrl:"/callveyor/dialer/hold/callStatus.tpl.html",controller:"HoldCtrl.status"}}})}]),a.controller("HoldCtrl.buttons",["$rootScope","$scope","$state","$timeout","$cacheFactory","callStation","HouseholdCache","idHttpDialerFactory","idFlashFactory","usSpinnerService","TwilioCache","FlashCache",function(b,c,d,e,f,g,h,i,j,k,l,m){var n;return n=f.get("hold")||f("hold"),a=n.get("sharedScope"),null==a&&(a={},n.put("sharedScope",a)),a.campaign=g.campaign,a.stopCalling=function(){return d.go("dialer.stop")},a.reset=function(){return a.callStatusText="Waiting to dial...",c.transitionInProgress=!1},a.dial=function(){var b,d,e;return e={},d=h.get("data")||{},b=g.caller||{},e.session_id=b.session_id,e.phone=d.phone,i.dialContact(b.id,e),a.callStatusText="Dialing...",c.transitionInProgress=!0},a.skip=function(){var e,f,j,n,o,p;return j={},f=g.caller||{},j.session_id=f.session_id,a.callStatusText="Skipping...",c.transitionInProgress=!0,n=i.skipHousehold(f.id,j),p=function(e){var f;return e.data.campaign_out_of_leads?(l.put("disconnect_pending",!0),m.put("error","All numbers have been dialed! Please get in touch with your account admin for further instructions."),h.put("data",{}),b.$broadcast("household:changed"),f=d.go("abort"),void f["catch"](idTransitionPrevented)):(h.put("data",e.data),a.callStatusText="Waiting to dial...",c.$emit("household:changed"))},o=function(b){return c.transitionInProgress=!1,a.callStatusText="Error skipping.",k.stop("global-spinner")},e=function(){return c.transitionInProgress=!1,k.stop("global-spinner")},n.then(p,o)["finally"](e)},c.hold||(c.hold=a)}]),a.controller("HoldCtrl.status",["$scope","$cacheFactory","callStation",function(b,c,d){var e;switch(e=c.get("hold")||c("hold"),a=e.get("sharedScope"),null==a&&(a={},e.put("sharedScope",a)),d.campaign.type){case"Power":case"Predictive":a.callStatusText="Dialing...",a.callStatusWorking=!0;break;case"Preview":a.callStatusText="Waiting to dial...",a.callStatusWorking=!1}return b.hold=a}])}.call(this),function(){"use strict";var a;a=angular.module("callveyor.dialer.active",["ui.router","callveyor.dialer.active.transfer","idFlash","idCacheFactories","callveyor.http_dialer"]),a.config(["$stateProvider",function(a){return a.state("dialer.active",{views:{callFlowButtons:{templateUrl:"/callveyor/dialer/active/callFlowButtons.tpl.html",controller:"ActiveCtrl.buttons"},callStatus:{templateUrl:"/callveyor/dialer/active/callStatus.tpl.html",controller:"ActiveCtrl.status"},callFlowDropdown:{templateUrl:"/callveyor/dialer/active/transfer/dropdown.tpl.html",controller:"TransferCtrl.list"},transferContainer:{templateUrl:"/callveyor/dialer/active/transfer/container.tpl.html",controller:"TransferCtrl.container"}}})}]),a.controller("ActiveCtrl.status",[function(){}]),a.controller("ActiveCtrl.buttons",["$rootScope","$scope","$state","$http","$timeout","$window","CallCache","TransferCache","CallStationCache","idFlashFactory","idHttpDialerFactory",function(b,c,d,e,f,g,h,i,j,k,l){var m;return a={},m=j.get("permissions"),a.permissions=m,a.hangup=function(){var a,b,e,f,m,n,o;return c.transitionInProgress=!0,a=h.get("id"),b=j.get("caller"),n=i.get("selected"),f=i.get("hangup_method"),null!=n&&n.wasDialed&&(f="kick"),m=l.hangup(a,f,b),o=function(){var a;return a=d.go("dialer.wrap"),i.remove("hangup_method")},e=function(a){return k.now("danger","Error hanging up. Try again."),g.Bugsnag.notifyException("Error hanging up.",{diagnostics:{response:a}})},m.then(o,e)},a.dropMessage=function(){var d,e,i,m;if(a.permissions.can_drop_message_manually===!0)return c.transitionInProgress=!0,d=h.get("id"),i=l.dropMessage(d),m=function(a){var d,e,h,i,l,m;return d=[],e=j.get("caller"),k.nowAndDismiss("info","Preparing message drop...",3e3),m=function(){var a;return a=new Error("Client timeout reached. Message drop queued successfully. Completion message not received."),console.log("timeoutReached"),g.Bugsnag.notifyException(a),k.nowAndDismiss("warning","Message drop outcome unclear.",3e3),c.transitionInProgress=!1},l=f(m,1e4),i=function(){var a,b;for(b=[];a=d.pop();)b.push(a());return b},h=function(a){return f.cancel(l),i()},d.push(b.$on(""+e.session_key+":message_drop_error",h)),d.push(b.$on(""+e.session_key+":message_drop_success",h))},e=function(a){return g.Bugsnag.notifyException("Error preparing message drop.",{diagnostics:{response:a}}),k.now("danger","Error preparing message drop. Try again."),c.transitionInProgress=!1},i.then(m,e)},c.active=a}]),a.controller("TransferCtrl.container",["$rootScope","$scope",function(a,b){return a.rootTransferCollapse=!1}]),a.controller("TransferCtrl.list",["$scope","$state","$filter","$window","TransferCache","idFlashFactory",function(a,b,c,d,e,f){var g,h;return h={},h.cache=e,null!=h.cache?h.list=h.cache.get("list")||[]:(h.list=[],g=new Error("TransferCtrl.list running but TransferCache is undefined."),Bugsnag.notifyException(g)),h.select=function(a){var d,e,g,i;return g=h.cache.get("selected"),g&&g.wasDialed?(console.log("previousSelection wasDialed"),!1):(d=function(b){return a===b.id},i=c("filter")(h.list,d),null!=i[0]?(h.cache.put("selected",i[0]),e=b.is("dialer.active.transfer.selected")?b.go("dialer.active.transfer.reselect"):b.go("dialer.active.transfer.selected"),e["catch"](Bugsnag.notifyException)):f.now("danger","Error loading selected transfer. Please try again and report problem if error continues."))},a.transfer=h}])}.call(this),function(){"use strict";var a;a=angular.module("callveyor.dialer.active.transfer",["ui.router","callveyor.http_dialer","idCacheFactories","angularSpinner"]),a.config(["$stateProvider",function(a){return a.state("dialer.active.transfer",{"abstract":!0,views:{transferPanel:{templateUrl:"/callveyor/dialer/active/transfer/panel.tpl.html",controller:"TransferPanelCtrl"}}}),a.state("dialer.active.transfer.selected",{views:{transferButtons:{templateUrl:"/callveyor/dialer/active/transfer/selected/buttons.tpl.html",controller:"TransferButtonCtrl.selected"},transferInfo:{templateUrl:"/callveyor/dialer/active/transfer/info.tpl.html",controller:"TransferInfoCtrl"}}}),a.state("dialer.active.transfer.reselect",{views:{transferButtons:{templateUrl:"/callveyor/dialer/active/transfer/selected/buttons.tpl.html",controller:"TransferButtonCtrl.selected"},transferInfo:{templateUrl:"/callveyor/dialer/active/transfer/info.tpl.html",controller:"TransferInfoCtrl"}}}),a.state("dialer.active.transfer.conference",{views:{transferInfo:{templateUrl:"/callveyor/dialer/active/transfer/info.tpl.html",controller:"TransferInfoCtrl"},transferButtons:{templateUrl:"/callveyor/dialer/active/transfer/conference/buttons.tpl.html",controller:"TransferButtonCtrl.conference"}}})}]),a.controller("TransferPanelCtrl",["$rootScope","$scope","$cacheFactory",function(a,b,c){return a.transferStatus="Ready to dial...",a.transferIcon="glyphicon-ok"}]),a.controller("TransferInfoCtrl",["$scope","TransferCache",function(b,c){return a=c.get("selected"),b.transfer=a}]),a.factory("TransferDialerEventFactory",["$rootScope","usSpinnerService",function(a,b){var c;return c={httpSuccess:function(b,c){return a.transferStatus=c.data.status,a.transferIcon="glyphicon-ok"},httpError:function(c,d){return console.log("http dialer error",d),b.stop("transfer-spinner"),a.transitionInProgress=!1,a.transferStatus="Dial failed.",a.transferIcon="glyphicon-alert"}},a.$on("http_dialer:success",c.httpSuccess),a.$on("http_dialer:error",c.httpError),c}]),a.controller("TransferButtonCtrl.selected",["$rootScope","$scope","$state","TransferCache","TransferDialerEventFactory","CallCache","ContactCache","idHttpDialerFactory","usSpinnerService","CallStationCache",function(b,c,d,e,f,g,h,i,j,k){var l,m,n;return a={},a.cache=e,m=a.cache.get("selected"),n=m.transfer_type,m.wasDialed=!1,l=function(){return"warm"===n},a.dial=function(){var c,d,e;return e={},d=(h.get("data")||{}).fields,c=k.get("caller"),e.call=g.get("id"),e.caller_session=c.session_id,e.transfer={id:m.id},b.transferStatus="Preparing to dial...",b.transferIcon="glyphicon-play",i.dialTransfer(e),m.wasDialed=!0,a.cache.put("selected",m),b.transitionInProgress=!0,j.spin("transfer-spinner")},a.cancel=function(){return e.remove("selected"),d.go("dialer.active")},b.rootTransferCollapse=!1,c.transfer=a}]),a.controller("TransferButtonCtrl.conference",["$rootScope","$scope","$state","$http","TransferCache","CallStationCache","idHttpDialerFactory","usSpinnerService","idFlashFactory",function(b,c,d,e,f,g,h,i,j){return a={},a.cache=f,i.stop("transfer-spinner"),b.transferStatus="Transfer on call",b.transferIcon="glyphicon-flash",a.hangup=function(){var a,c,d;return a=g.get("caller"),d=h.hangupTransfer(a),c=function(a){return b.transferStatus="Transfer on call (hangup failed)",b.transferIcon="glyphicon-alert"},d["catch"](c)},c.transfer=a}])}.call(this),function(){"use strict";var a;a=angular.module("callveyor.dialer.wrap",[]),a.config(["$stateProvider",function(a){return a.state("dialer.wrap",{views:{callStatus:{templateUrl:"/callveyor/dialer/wrap/callStatus.tpl.html",controller:"WrapCtrl.status"},callFlowButtons:{templateUrl:"/callveyor/dialer/wrap/callFlowButtons.tpl.html",controller:"WrapCtrl.buttons"}}})}]),a.controller("WrapCtrl.status",["$rootScope","$scope","$state","TwilioCache",function(b,c,d,e){var f,g,h;return a={},a.icon="glyphicon-pause",a.status="Waiting for call results.",g=!1,h=function(){return g=!0,a.status="Results saved."},f=function(b,c){return g?(a.icon="glyphicon-ok",c.andContinue?a.status="Saved. Loading contact...":(a.status="Saved. Hanging up...",d.go("dialer.ready"))):(a.icon="glyphicon-exclamation-sign",a.status="Results failed to save."),g=!1},b.$on("survey:save:success",h),b.$on("survey:save:done",f),c.wrap=a}]),a.controller("WrapCtrl.buttons",[function(){}])}.call(this),function(){"use strict";var a;a=angular.module("callveyor.dialer.stop",["ui.router","idCacheFactories","idTransition"]),a.config(["$stateProvider",function(a){return a.state("dialer.stop",{views:{callFlowButtons:{templateUrl:"/callveyor/dialer/stop/callFlowButtons.tpl.html",controller:"StopCtrl.buttons"},callStatus:{templateUrl:"/callveyor/dialer/stop/callStatus.tpl.html",controller:"StopCtrl.status"}}})}]),a.controller("StopCtrl.buttons",["$scope","$state","TwilioCache","$http","idTwilioService","callStation","idTransitionPrevented",function(a,b,c,d,e,f,g){var h,i,j,k,l,m;return j=c.get("connection"),i=f.caller.id,l={},l.session_id=f.caller.session_id,k={},k.ready=function(){var a;return a=b.go("dialer.ready"),a["catch"](g),angular.isFunction(k.readyOff)?k.readyOff():void 0},h=function(){return null!=j&&"offline"!==j.status()?(c.put("disconnect_pending",!0),k.readyOff=j.disconnect(k.ready),j.disconnectAll()):k.ready()},null!=l.session_id?m=d.post("/call_center/api/"+i+"/stop_calling",l):k.ready(),m["finally"](h)}]),a.controller("StopCtrl.status",["$scope",function(b){return a={},a.callStatusText="Stopping...",b.stop=a}])}.call(this),angular.module("callveyor.dialer").run(["$templateCache",function(a){"use strict";a.put("/callveyor/dialer/dialer.tpl.html",'<!-- Fixed top nav --><div class="container-fluid"><div class="row"><div class="col-xs-6 col-sm-3"><span data-us-spinner="{lines:5,width:5,radius:10,corners:1.0,trail:10,length:0,top:9,left:-7,rotate:56,color:\'#30475f\'}" data-spinner-key="global-spinner"></span><!-- callStatus ui-view --><div class="navbar-left status"><div data-ui-view="callStatus"></div></div><!-- /callStatus ui-view --></div><div class="col-xs-0 col-sm-4"><div data-id-user-messages></div></div><div class="col-xs-6 col-sm-5"><div class="navbar-right pull-right"><ul class="nav navbar-nav add-gutter"><li class="dropdown" data-ui-view="callFlowDropdown"></li><li class="btn-group" data-ui-view="callFlowButtons"></li></ul></div></div></div><div class="row border-top-thin" data-ui-view="transferContainer"></div></div><!-- /Fixed top nav --><!-- callInPhone ui-view --><div class="call-in-phone" data-ui-view="callInPhone"></div><!-- /callInPhone ui-view -->'),a.put("/callveyor/dialer/hold/callFlowButtons.tpl.html",'<button class="btn btn-primary navbar-btn" type="button" title="Dial the current contact." aria-label="Dial the current contact." data-ng-click="hold.dial()" data-ng-if="hold.campaign.type == \'Preview\'" data-ng-disabled="transitionInProgress"><span class="glyphicon glyphicon-play" aria-hidden="true"></span> <span class="text">Dial</span></button> <button class="btn btn-primary navbar-btn" type="button" title="Skip the current contact." aria-label="Skip the current contact." data-ng-click="hold.skip()" data-ng-if="hold.campaign.type == \'Preview\'" data-ng-disabled="transitionInProgress"><span class="glyphicon glyphicon-forward" aria-hidden="true"></span> <span class="text">Skip</span></button> <button class="btn btn-primary navbar-btn" type="button" title="Stop making calls." aria-label="Stop making calls." data-ng-click="hold.stopCalling()" data-ng-disabled="transitionInProgress"><span class="glyphicon glyphicon-stop" aria-hidden="true"></span> <span class="text">Stop calling</span></button>'),a.put("/callveyor/dialer/hold/callStatus.tpl.html",'<span class="navbar-text glyphicon glyphicon-pause" data-ng-hide="hold.callStatusWorking" aria-hidden="true"></span> <span class="navbar-text glyphicon glyphicon-play" data-ng-show="hold.callStatusWorking" aria-hidden="true"></span> <span class="navbar-text label label-info hidden-xs hidden-sm">{{hold.callStatusText}}</span>'),a.put("/callveyor/dialer/ready/callFlowButtons.tpl.html",'<button class="btn btn-primary navbar-btn" type="button" title="Start calling." aria-label="Get started" data-ng-click="splash.getStarted()"><span class="glyphicon glyphicon-earphone" aria-hidden="true"></span> <span class="text">Start</span></button> <button class="btn btn-primary navbar-btn" type="button" title="Log out." aria-label="Log out." data-ng-click="splash.logout()"><span class="glyphicon glyphicon-off" aria-hidden="true"></span> <span class="text">Logout</span></button>'),a.put("/callveyor/dialer/ready/callInPhone.tpl.html","<p><b>Dial-in number:</b> {{ready.call_station.phone_number}} <b>PIN:</b> {{ready.caller.pin}}</p>"),a.put("/callveyor/dialer/ready/callStatus.tpl.html",'<span class="navbar-text glyphicon glyphicon-ok" aria-hidden="true"></span> <span class="navbar-text label label-info hidden-xs hidden-sm">Ready to dial</span>'),a.put("/callveyor/dialer/ready/contactInfo.tpl.html","<p>Contact details will be listed here when available...</p>"),a.put("/callveyor/dialer/ready/splash.tpl.html",'<div class="modal-header"><h3 class="modal-title">Choose your path</h3></div><div class="modal-body"><div class="container-fluid"><div class="row"><div class="col-sm-6"><h4>Dial-in</h4><p><b>Dial:</b> {{ready.call_station.phone_number}}</p><p><b>PIN:</b> {{ready.caller.pin}}</p><p><b>Dial</b> the above number from a cell or landline then key in your <b>PIN</b> when prompted. Then press <b>*</b> to start calling.</p></div><div class="col-sm-6"><h4>Browser phone</h4><div class="btn-group btn-group-justified"><div class="btn-group"><button class="btn btn-primary navbar-btn" data-ng-click="ready.startCalling()" data-ng-disabled="transitionInProgress">Start calling</button></div></div><p><em>Not supported by iOS or Internet Explorer 9-. Requires <a href="https://get.adobe.com/flashplayer/" target="_blank">Flash</a> on Internet Explorer 10+ and Safari.</em></p><div class="alert alert-info"><p>Before calling, make sure:<ol class="bump-left"><li>Your computer has a built-in microphone or a headset plugged in</li><li>You complete our telco\'s <a href="https://networktest.twilio.com/" target="_blank">bandwidth test</a> to see if your network can support at least one connection (doesn\'t support Internet Explorer or Safari)</li></ol></p></div><p class="alert alert-warning"><em>Poor voice quality and dropped calls are symptoms of a poor internet connection. Try dialing in instead.</em></p></div></div></div></div>'),a.put("/callveyor/dialer/stop/callFlowButtons.tpl.html",""),a.put("/callveyor/dialer/stop/callStatus.tpl.html",'<span class="navbar-text glyphicon glyphicon-stop" aria-hidden="true"></span> <span class="navbar-text label label-info hidden-xs hidden-sm">{{stop.callStatusText}}</span>'),a.put("/callveyor/dialer/wrap/callFlowButtons.tpl.html",'<button class="btn btn-primary navbar-btn" type="button" title="Save survey results and continue to the next call." aria-label="Save survey results and continue to the next call." data-ng-click="$emit(\'survey:save:click\', true)" data-ng-disabled="transitionInProgress" data-ng-hide="survey.hideButtons"><span class="glyphicon glyphicon-play" aria-hidden="true"></span> <span class="text">Save &amp; continue</span></button> <button class="btn btn-primary navbar-btn" type="button" title="Save survey results and disconnect yourself from the system." aria-label="Save survey results and disconnect yourself from the system." data-ng-click="$emit(\'survey:save:click\', false)" data-ng-disabled="transitionInProgress" data-ng-hide="survey.hideButtons"><span class="glyphicon glyphicon-stop" aria-hidden="true"></span> <span class="text">Save &amp; stop calling</span></button>'),a.put("/callveyor/dialer/wrap/callStatus.tpl.html",'<span class="navbar-text glyphicon" data-ng-class="wrap.icon" aria-hidden="true"></span> <span class="navbar-text label label-info hidden-xs hidden-sm">{{wrap.status}}</span>'),
a.put("/callveyor/dialer/active/callFlowButtons.tpl.html",'<button class="btn btn-primary navbar-btn" type="button" title="Leave a pre-recorded message. Message will begin playing right away. Wait for the beep and then click to Drop message." aria-label="Leave a pre-recorded message. Message will begin playing right away. Wait for the beep and then click to Drop message." data-ng-click="active.dropMessage()" data-ng-disabled="transitionInProgress" data-ng-show="active.permissions.can_drop_message_manually"><span class="glyphicon glyphicon-save" aria-hidden="true"></span> <span class="text">Drop message</span></button> <button class="btn btn-primary navbar-btn" type="button" title="Disconnect yourself from the call." aria-label="Disconnect yourself from the call." data-ng-click="active.hangup()" data-ng-disabled="transitionInProgress"><span class="glyphicon glyphicon-phone-alt" aria-hidden="true"></span> <span class="text">Hangup</span></button>'),a.put("/callveyor/dialer/active/callStatus.tpl.html",'<span class="navbar-text glyphicon glyphicon-flash" aria-hidden="true"></span> <span class="navbar-text label label-info hidden-xs hidden-sm">Contact on call</span>'),a.put("/callveyor/dialer/active/transfer/conference/buttons.tpl.html",'<button class="btn btn-primary navbar-btn" type="button" title="Disconnect the transfer from the call. You and the lead will still be connected." aria-label="Disconnect the transfer from the call. You and the lead will still be connected." data-ng-click="transfer.hangup()" data-ng-disabled="transitionInProgress"><span class="glyphicon glyphicon-phone-alt"></span> <span class="text">Disconnect transfer</span></button>'),a.put("/callveyor/dialer/active/transfer/container.tpl.html",'<div collapse="rootTransferCollapse" data-ui-view="transferPanel"></div>'),a.put("/callveyor/dialer/active/transfer/dropdown.tpl.html",'<div class="btn-group" data-uib-dropdown data-ng-hide="transfer.list.length == 0"><button class="btn btn-default navbar-btn" type="button" title="Dial a 3rd-party and add them to the current call." aria-label="Dial a 3rd-party and add them to the current call." data-uib-dropdown-toggle><span class="glyphicon glyphicon-plus"></span> <span class="text">Transfer <b class="caret"></b></span></button><ul class="uib-dropdown-menu" role="menu"><li data-ng-repeat="target in transfer.list"><a href="#" data-ng-click="transfer.select(target.id)">{{target.label}} ({{target.phone_number}}) <span class="label label-{{target.transfer_type == \'warm\' ? \'danger\' : \'info\'}}">{{target.transfer_type}}</span></a></li></ul></div>'),a.put("/callveyor/dialer/active/transfer/info.tpl.html","<span class=\"navbar-text\">{{transfer.label}} ({{transfer.phone_number}}) <span class=\"label label-{{transfer.transfer_type == 'warm' ? 'danger' : 'info'}}\">{{transfer.transfer_type}}</span></span>"),a.put("/callveyor/dialer/active/transfer/panel.tpl.html",'<div class="col-xs-2"><div class="navbar-left status"><span data-us-spinner="{lines:5,width:5,radius:10,corners:1.0,trail:10,length:0,top:9,left:-7,rotate:56,color:\'#30475f\'}" data-spinner-key="transfer-spinner"></span> <span class="navbar-text glyphicon" data-ng-class="transferIcon" aria-hidden="true"></span> <span class="label label-info navbar-text hidden-xs hidden-sm">{{transferStatus}}</span></div></div><div class="col-xs-6" data-ui-view="transferInfo"></div><div class="col-xs-4"><div class="navbar-right pull-right"><ul class="nav navbar-nav add-gutter"><li class="btn-group" data-ui-view="transferButtons"></li></ul></div></div>'),a.put("/callveyor/dialer/active/transfer/selected/buttons.tpl.html",'<button class="btn btn-primary navbar-btn" type="button" title="Dial the selected transfer." aria-label="Dial the selected transfer." data-ng-click="transfer.dial()" data-ng-disabled="transitionInProgress"><span class="glyphicon glyphicon-play"></span> <span class="text">Dial</span></button> <button class="btn btn-primary navbar-btn" type="button" title="Close the transfer menu." aria-label="Close the transfer menu." data-ng-click="transfer.cancel()" data-ng-disabled="transitionInProgress"><span class="glyphicon glyphicon-remove"></span> <span class="text">Cancel</span></button>')}]),angular.module("callveyor.contact").run(["$templateCache",function(a){"use strict";a.put("/callveyor/dialer/contact/info.tpl.html",'<div class="row fixed-contact panel panel-default"><div class="panel-heading">Contact details</div><div class="panel-body"><p class="col-xs-12" data-ng-hide="contact.data.fields">Name, phone, address, etc will be listed here when connected.</p><!-- system fields --><dl class="dl-horizontal col-xs-6 col-sm-12"><dt data-ng-hide="!contact.data.fields.custom_id || !contact.data.ID_flag">ID</dt><dd data-ng-hide="!contact.data.fields.custom_id || !contact.data.ID_flag" data-ng-bind-html="contact.data.fields.custom_id"></dd><dt data-ng-hide="!contact.data.fields.first_name || !contact.data.FirstName_flag">First name</dt><dd data-ng-hide="!contact.data.fields.first_name || !contact.data.FirstName_flag" data-ng-bind-html="contact.data.fields.first_name"></dd><dt data-ng-hide="!contact.data.fields.middle_name || !contact.data.MiddleName_flag">Middle name</dt><dd data-ng-hide="!contact.data.fields.middle_name || !contact.data.MiddleName_flag" data-ng-bind-html="contact.data.fields.middle_name"></dd><dt data-ng-hide="!contact.data.fields.last_name || !contact.data.LastName_flag">Last name</dt><dd data-ng-hide="!contact.data.fields.last_name || !contact.data.LastName_flag" data-ng-bind-html="contact.data.fields.last_name"></dd><dt data-ng-hide="!contact.data.fields.suffix || !contact.data.Suffix_flag">Suffix</dt><dd data-ng-hide="!contact.data.fields.suffix || !contact.data.Suffix_flag" data-ng-bind-html="contact.data.fields.suffix"></dd><dt data-ng-hide="!contact.data.fields.address || !contact.data.Address_flag">Address</dt><dd data-ng-hide="!contact.data.fields.address || !contact.data.Address_flag" data-ng-bind-html="contact.data.fields.address"></dd><dt data-ng-hide="!contact.data.fields.city || !contact.data.City_flag">City</dt><dd data-ng-hide="!contact.data.fields.city || !contact.data.City_flag" data-ng-bind-html="contact.data.fields.city"></dd><dt data-ng-hide="!contact.data.fields.state || !contact.data.State/Province_flag">State</dt><dd data-ng-hide="!contact.data.fields.state || !contact.data.State/Province_flag" data-ng-bind-html="contact.data.fields.state"></dd><dt data-ng-hide="!contact.data.fields.zip_code || !contact.data.Zip/Postal_flag">Zip / Postal code</dt><dd data-ng-hide="!contact.data.fields.zip_code || !contact.data.Zip/Postal_flag" data-ng-bind-html="contact.data.fields.zip_code"></dd><dt data-ng-hide="!contact.data.fields.country || !contact.data.Country_flag">Country</dt><dd data-ng-hide="!contact.data.fields.country || !contact.data.Country_flag" data-ng-bind-html="contact.data.fields.country"></dd><dt data-ng-hide="!contact.data.fields.phone || !contact.data.Phone_flag">Phone</dt><dd data-ng-hide="!contact.data.fields.phone || !contact.data.Phone_flag" data-ng-bind-html="contact.data.fields.phone"></dd><dt data-ng-hide="!contact.data.fields.email || !contact.data.Email_flag">Email</dt><dd data-ng-hide="!contact.data.fields.email || !contact.data.Email_flag" data-ng-bind-html="contact.data.fields.email"></dd></dl><!-- custom fields --><dl class="dl-horizontal col-xs-6 col-sm-12"><dt data-ng-repeat-start="tuple in contact.data.custom_fields" data-ng-bind-html="tuple[0]"></dt><dd data-ng-repeat-end data-ng-bind-html="tuple[1]"></dd></dl></div></div>')}]),angular.module("callveyor.household").run(["$templateCache",function(a){"use strict";a.put("/callveyor/dialer/household/household.tpl.html",'<div class="row fixed-contact panel panel-default"><div class="panel-heading">Contact details</div><div class="panel-body"><p class="col-xs-12" data-ng-hide="household.members">Name, phone, address, etc will be listed here when connected.</p><dl class="dl-horizontal col-xs-6 col-sm-12"><dt data-ng-hide="!household.phone">Phone</dt><dd data-ng-hide="!household.phone">{{household.phone}}</dd></dl><div data-ng-repeat="member in household.members"><label style="font: inherit; width: 100%" data-ng-class="household.selected == member ? \'well well-sm\' : \'\'"><input type="radio" data-ng-change="contactSelected()" data-ng-model="household.selected" data-ng-value="member" class="col-xs-1 col-sm-1 pull-right" name="voter_id"><!-- system fields --><dl class="dl-horizontal col-xs-5 col-sm-11"><dt data-ng-show="member.fields.use_id">Contact</dt><dd data-ng-show="member.fields.use_id" data-ng-bind="$index + 1"></dd><dt data-ng-hide="!member.fields.custom_id">Contact ID</dt><dd data-ng-hide="!member.fields.custom_id" data-ng-bind-html="member.fields.custom_id"></dd><dt data-ng-hide="!member.fields.first_name">First name</dt><dd data-ng-hide="!member.fields.first_name" data-ng-bind-html="member.fields.first_name"></dd><dt data-ng-hide="!member.fields.middle_name">Middle name</dt><dd data-ng-hide="!member.fields.middle_name" data-ng-bind-html="member.fields.middle_name"></dd><dt data-ng-hide="!member.fields.last_name">Last name</dt><dd data-ng-hide="!member.fields.last_name" data-ng-bind-html="member.fields.last_name"></dd><dt data-ng-hide="!member.fields.suffix">Suffix</dt><dd data-ng-hide="!member.fields.suffix" data-ng-bind-html="member.fields.suffix"></dd><dt data-ng-hide="!member.fields.address">Address</dt><dd data-ng-hide="!member.fields.address" data-ng-bind-html="member.fields.address"></dd><dt data-ng-hide="!member.fields.city">City</dt><dd data-ng-hide="!member.fields.city" data-ng-bind-html="member.fields.city"></dd><dt data-ng-hide="!member.fields.state">State</dt><dd data-ng-hide="!member.fields.state" data-ng-bind-html="member.fields.state"></dd><dt data-ng-hide="!member.fields.zip_code">Zip / Postal code</dt><dd data-ng-hide="!member.fields.zip_code" data-ng-bind-html="member.fields.zip_code"></dd><dt data-ng-hide="!member.fields.country">Country</dt><dd data-ng-hide="!member.fields.country" data-ng-bind-html="member.fields.country"></dd><dt data-ng-hide="!member.fields.email">Email</dt><dd data-ng-hide="!member.fields.email" data-ng-bind-html="member.fields.email"></dd></dl><!-- custom fields --><dl class="dl-horizontal col-xs-5 col-sm-11"><dt data-ng-repeat-start="tuple in member.custom_fields" data-ng-bind-html="tuple[0]"></dt><dd data-ng-repeat-end data-ng-bind-html="tuple[1]"></dd></dl></label></div></div></div>')}]),angular.module("idFlash").run(["$templateCache",function(a){"use strict";a.put("/callveyor/common/id_flash/id_flash.tpl.html",'<div data-uib-alert data-ng-repeat="alert in flash.alerts" type="{{alert.type}}" close="flash.dismiss($index)" class="slim-alert">{{alert.message}}</div>')}]),angular.module("survey").run(["$templateCache",function(a){"use strict";a.put("/callveyor/survey/survey.tpl.html",'<div class="col-xs-12"><div class="veil" ng-show="transitionInProgress"></div><form role="form"><div class="well" data-ng-repeat="item in survey.form"><div data-ng-if="item.type == \'scriptText\'" data-ng-bind-html="item.content"></div><label data-ng-if="item.type != \'scriptText\'" for="item_{{item.id}}">{{item.content}}</label><input id="item_{{item.id}}" class="form-control" data-ng-if="item.type == \'note\'" data-ng-model="survey.responses.notes[item.id]" maxlength="254"><select id="item_{{item.id}}" class="form-control" data-ng-if="item.type == \'question\'" data-ng-model="survey.responses.question[item.id]" data-ng-options="response as response.value for response in item.possibleResponses"></select></div></form></div>')}]);